(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-86a7b08c"],{1234:function(e,t,o){},"4b02":function(e,t,o){},"552b":function(e,t,o){"use strict";o.r(t);o("a4d3"),o("e01a");var i=o("7a23"),n=function(e){return Object(i["pushScopeId"])("data-v-55945e76"),e=e(),Object(i["popScopeId"])(),e},r={class:"gray",style:{width:"100%"}},l={class:"card-header"},a=n((function(){return Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("span",null,"Token logo 管理")],-1)})),c=Object(i["createTextVNode"])("添加"),d=Object(i["createTextVNode"])("编辑"),u=n((function(){return Object(i["createElementVNode"])("img",{width:"60",height:"60",src:"https://ave.s3.ap-east-1.amazonaws.com/token_icon/defaultToken.png",alt:"",srcset:""},null,-1)})),p=Object(i["createTextVNode"])(" $ "),f=Object(i["createTextVNode"])("取消"),s=Object(i["createTextVNode"])("确认");function m(e,t,o,n,m,b){var h=Object(i["resolveComponent"])("el-button"),g=Object(i["resolveComponent"])("el-image"),O=Object(i["resolveComponent"])("el-table-column"),j=Object(i["resolveComponent"])("el-table"),_=Object(i["resolveComponent"])("el-pagination"),V=Object(i["resolveComponent"])("el-card"),v=Object(i["resolveComponent"])("el-col"),C=Object(i["resolveComponent"])("el-row"),w=Object(i["resolveComponent"])("el-input"),x=Object(i["resolveComponent"])("el-form-item"),k=Object(i["resolveComponent"])("ImgUpload"),N=Object(i["resolveComponent"])("el-input-number"),y=Object(i["resolveComponent"])("el-date-picker"),U=Object(i["resolveComponent"])("el-form"),T=Object(i["resolveComponent"])("el-dialog"),z=Object(i["resolveDirective"])("loading");return Object(i["openBlock"])(),Object(i["createElementBlock"])("main",r,[Object(i["createVNode"])(C,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(v,{span:24,style:{"margin-bottom":"10px"}},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(V,{class:"box-card",shadow:"never"},{header:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",l,[a,Object(i["createVNode"])(h,{class:"button",type:"primary",link:"",onClick:Object(i["withModifiers"])(b.handelAdd,["stop"])},{default:Object(i["withCtx"])((function(){return[c]})),_:1},8,["onClick"])])]})),default:Object(i["withCtx"])((function(){return[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])(j,{data:m.tableData,stripe:"",style:{width:"100%"}},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(O,{prop:"logo",label:"logo",width:"100"},{default:Object(i["withCtx"])((function(t){var o=t.row;return[Object(i["createVNode"])(g,{style:{width:"50px",height:"50px","border-radius":"50%",border:"1px solid #ddd"},src:o.logo_url||e.$f.formatIcon(o.token,o.chain),fit:"contain","preview-src-list":[o.logo_url||e.$f.formatIcon(o.token,o.chain)],"preview-teleported":""},null,8,["src","preview-src-list"])]})),_:1}),Object(i["createVNode"])(O,{prop:"symbol",label:"symbol",align:"center"}),Object(i["createVNode"])(O,{prop:"update_time",label:"更新时间",width:"200",align:"center"},{default:Object(i["withCtx"])((function(t){var o=t.row;return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatDate(o.update_time)),1)]})),_:1}),Object(i["createVNode"])(O,{prop:"token",label:"Token Address",width:"200",align:"center"}),Object(i["createVNode"])(O,{prop:"chain",label:"链",align:"center"}),Object(i["createVNode"])(O,{prop:"fee",label:"广告费用($)",width:"200"}),Object(i["createVNode"])(O,{prop:"tx_hash",label:"交易哈希",width:"200"}),Object(i["createVNode"])(O,{prop:"remark",label:"备注","show-overflow-tooltip":"",align:"center"}),Object(i["createVNode"])(O,{label:"操作",width:"250",align:"right",fixed:"right"},{default:Object(i["withCtx"])((function(e){var t=e.row;return[Object(i["createVNode"])(h,{type:"primary",link:"",onClick:Object(i["withModifiers"])((function(e){return b.handelEdit(t)}),["stop"])},{default:Object(i["withCtx"])((function(){return[d]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])),[[z,m.dataLoading]]),Object(i["createVNode"])(_,{style:{display:"flex",width:"100%","justify-content":"center",margin:"30px 0 0 0"},currentPage:m.pageNO,"onUpdate:currentPage":t[0]||(t[0]=function(e){return m.pageNO=e}),"page-size":m.pageSize,background:"",layout:"total, prev, pager, next",total:m.total,onSizeChange:b.handleSizeChange,onCurrentChange:b.handleCurrentChange},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])]})),_:1})]})),_:1})]})),_:1}),Object(i["createVNode"])(T,{title:b.dialogTitle,modelValue:m.dialogVisible,"onUpdate:modelValue":t[16]||(t[16]=function(e){return m.dialogVisible=e}),width:"600px",top:"5vh","close-on-click-modal":!1,onClosed:b.handelClose},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(U,{model:m.form,rules:m.rules,ref:"form","label-width":"auto"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(x,{label:"token id",prop:"token_id"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(w,{modelValue:m.form.token_id,"onUpdate:modelValue":t[1]||(t[1]=function(e){return m.form.token_id=e}),clearable:""},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(x,{label:"symbol",prop:"symbol"},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(m.form.symbol),1)]})),_:1}),Object(i["createVNode"])(x,{label:"现有logo"},{default:Object(i["withCtx"])((function(){return[m.form.token_id&&b.isTokenId?(Object(i["openBlock"])(),Object(i["createBlock"])(g,{key:0,style:{width:"60px",height:"60px","border-radius":"50%"},src:e.$f.formatIcon(m.form.token_id),fit:"fill"},{error:Object(i["withCtx"])((function(){return[u]})),_:1},8,["src"])):Object(i["createCommentVNode"])("",!0)]})),_:1}),Object(i["createVNode"])(x,{label:"上传logo",prop:"profile_picture"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(k,{address:m.form.token_id,onGetFile:b.getFile},null,8,["address","onGetFile"])]})),_:1}),Object(i["createVNode"])(x,{label:"广告费用",prop:"fee"},{default:Object(i["withCtx"])((function(){return[p,Object(i["createVNode"])(N,{modelValue:m.form.fee,"onUpdate:modelValue":t[2]||(t[2]=function(e){return m.form.fee=e}),min:0,controls:!1},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(x,{label:"交易哈希",prop:"tx_hash"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(w,{modelValue:m.form.tx_hash,"onUpdate:modelValue":t[3]||(t[3]=function(e){return m.form.tx_hash=e}),clearable:""},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(x,{label:"备注",prop:"remark"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(w,{modelValue:m.form.remark,"onUpdate:modelValue":t[4]||(t[4]=function(e){return m.form.remark=e}),clearable:""},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(x,{label:"官网",prop:"website"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(w,{modelValue:m.form.website,"onUpdate:modelValue":t[5]||(t[5]=function(e){return m.form.website=e}),modelModifiers:{trim:!0},placeholder:"请输入官网地址",clearable:""},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(x,{label:"白皮书",prop:"white_paper"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(w,{modelValue:m.form.white_paper,"onUpdate:modelValue":t[6]||(t[6]=function(e){return m.form.white_paper=e}),modelModifiers:{trim:!0},placeholder:"请输入白皮书地址",clearable:""},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(x,{label:"twitter",prop:"twitter"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(w,{modelValue:m.form.twitter,"onUpdate:modelValue":t[7]||(t[7]=function(e){return m.form.twitter=e}),modelModifiers:{trim:!0},placeholder:"请输入twitter",clearable:""},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(x,{label:"telegram",prop:"telegram"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(w,{modelValue:m.form.telegram,"onUpdate:modelValue":t[8]||(t[8]=function(e){return m.form.telegram=e}),modelModifiers:{trim:!0},placeholder:"请输入telegram",clearable:""},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(x,{label:"btok",prop:"btok"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(w,{modelValue:m.form.btok,"onUpdate:modelValue":t[9]||(t[9]=function(e){return m.form.btok=e}),modelModifiers:{trim:!0},placeholder:"请输入btok",clearable:""},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(x,{label:"qq",prop:"qq"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(w,{modelValue:m.form.qq,"onUpdate:modelValue":t[10]||(t[10]=function(e){return m.form.qq=e}),modelModifiers:{trim:!0},placeholder:"请输入qq",clearable:""},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(x,{label:"description",prop:"description"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(w,{modelValue:m.form.description,"onUpdate:modelValue":t[11]||(t[11]=function(e){return m.form.description=e}),modelModifiers:{trim:!0},rows:3,type:"textarea",placeholder:"请输入description",clearable:""},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(x,{label:"开盘时间",prop:"opening_at"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(y,{modelValue:m.form.opening_at,"onUpdate:modelValue":t[12]||(t[12]=function(e){return m.form.opening_at=e}),clearable:"",type:"datetime","value-format":"X",placeholder:"选择时间"},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(x,{label:"intro_cn",prop:"intro_cn"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(w,{modelValue:m.form.intro_cn,"onUpdate:modelValue":t[13]||(t[13]=function(e){return m.form.intro_cn=e}),modelModifiers:{trim:!0},type:"textarea",placeholder:"请输入intro_cn",clearable:""},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(x,{label:"intro_en",prop:"intro_en"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(w,{modelValue:m.form.intro_en,"onUpdate:modelValue":t[14]||(t[14]=function(e){return m.form.intro_en=e}),modelModifiers:{trim:!0},type:"textarea",placeholder:"请输入intro_en",clearable:""},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(x,{label:""},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(h,{onClick:t[15]||(t[15]=function(e){return m.dialogVisible=!1})},{default:Object(i["withCtx"])((function(){return[f]})),_:1}),Object(i["createVNode"])(h,{type:"primary",loading:m.addLoading,onClick:Object(i["withModifiers"])(b.updateLogoIcon,["stop","prevent"])},{default:Object(i["withCtx"])((function(){return[s]})),_:1},8,["loading","onClick"])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1},8,["title","modelValue","onClosed"])])}var b=o("5530"),h=(o("caad"),o("2532"),o("ac1f"),o("00b4"),o("d3b7"),o("159b"),o("b64b"),o("99af"),o("365c")),g=(o("179a"),o("c7cd"),{class:"upload-cropper-demo"}),O={style:{width:"300px",height:"300px"}},j=Object(i["createTextVNode"])("取消"),_=Object(i["createTextVNode"])("裁剪并上传");function V(e,t,o,n,r,l){var a=Object(i["resolveComponent"])("UploadFilled"),c=Object(i["resolveComponent"])("el-icon"),d=Object(i["resolveComponent"])("CircleCloseFilled"),u=Object(i["resolveComponent"])("el-upload"),p=Object(i["resolveComponent"])("vue-cropper"),f=Object(i["resolveComponent"])("el-button"),s=Object(i["resolveComponent"])("el-dialog");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",g,[Object(i["createVNode"])(u,{class:"img-preview","show-file-list":!1,"before-upload":l.beforeUpload,accept:"image/png,image/jpeg,image/gif",style:Object(i["normalizeStyle"])({backgroundImage:r.fileUrl?"url("+r.fileUrl+")":""})},{default:Object(i["withCtx"])((function(){return[r.fileUrl?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:1,onClick:Object(i["withModifiers"])(l.removeFile,["stop","prevent"]),class:"el-icon-error"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(d)]})),_:1},8,["onClick"])):(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:0,class:"el-icon-upload"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(a)]})),_:1}))]})),_:1},8,["before-upload","style"]),Object(i["createVNode"])(s,{modelValue:r.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.dialogVisible=e}),title:"裁剪图片",width:"600px"},{footer:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(f,{onClick:t[0]||(t[0]=function(e){return r.dialogVisible=!1})},{default:Object(i["withCtx"])((function(){return[j]})),_:1}),Object(i["createVNode"])(f,{type:"primary",onClick:l.cropImage},{default:Object(i["withCtx"])((function(){return[_]})),_:1},8,["onClick"])]})),default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",O,[Object(i["createVNode"])(p,{ref:"cropper",img:r.cropImg,outputSize:r.option.outputSize,outputType:r.option.outputType,maxImgSize:r.option.maxImgSize,enlarge:r.option.enlarge,high:r.option.high,autoCrop:r.option.autoCrop,autoCropWidth:r.option.autoCropWidth,autoCropHeight:r.option.autoCropHeight,fixed:r.option.fixed,centerBox:r.option.centerBox,canScale:r.option.canScale,fixedBox:r.option.fixedBox},null,8,["img","outputSize","outputType","maxImgSize","enlarge","high","autoCrop","autoCropWidth","autoCropHeight","fixed","centerBox","canScale","fixedBox"])])]})),_:1},8,["modelValue"])])}o("3ca3"),o("ddb0"),o("2b3d"),o("9861");var v=o("04b0"),C={props:["address"],components:{VueCropper:v["a"]},data:function(){return{dialogVisible:!1,cropImg:"",fileUrl:"",fileType:"",rawFile:null,option:{outputSize:.2,outputType:"png",maxImgSize:200,enlarge:.5,high:!1,autoCrop:!0,autoCropWidth:"200",autoCropHeight:"200",fixed:!0,centerBox:!0,canScale:!1,fixedBox:!0},file:null}},watch:{address:function(){this.removeFile()}},methods:{beforeUpload:function(e){var t=["image/png","image/jpeg","image/gif"];if(!t.includes(e.type))return this.$message.error("仅支持 PNG / JPEG / GIF 格式图片!"),!1;if(this.fileType=e.type,this.rawFile=e,"image/gif"===e.type){this.file=e,console.log("-----file------------",e);var o=URL.createObjectURL(e);return this.fileUrl=o,this.$emit("getFile",this.file),this.$message.warning("GIF 动图不支持裁剪，已直接加载"),!1}return this.cropImg=window.URL.createObjectURL(e),this.dialogVisible=!0,!1},removeFile:function(){this.file=null,this.fileUrl=""},cropImage:function(){var e=this;this.$refs.cropper.getCropBlob((function(t){e.dialogVisible=!1,e.file=new File([t],e.address),console.log("-- this.file -----",e.file),console.log("---blob ----",t),e.fileUrl=URL.createObjectURL(t),console.log("------fileUrl------",e.fileUrl),e.$emit("getFile",e.file)}))}}},w=(o("fc7f"),o("6b0d")),x=o.n(w);const k=x()(C,[["render",V],["__scopeId","data-v-5dd44804"]]);var N=k,y=null,U={name:"Blacklist",components:{ImgUpload:N},data:function(){return{form:{token_id:"",remark:"",fee:0,tx_hash:"",profile_picture:"",website:"",white_paper:"",twitter:"",btok:"",qq:"",description:"",opening_at:0,intro_cn:"",intro_en:""},rules:{token_id:[{required:!0,message:"必填项",trigger:"blur"}]},tableData:[],dataLoading:!1,addLoading:!1,updateLoading:!1,dialogVisible:!1,uploadDialogVisible:!1,option:{img:"",outputSize:.2,outputType:"png",maxImgSize:200,enlarge:.5,high:!1,autoCrop:!0,autoCropWidth:"200",autoCropHeight:"200",fixed:!0,centerBox:!0,canScale:!1,fixedBox:!0},file:"",fileUrl:"",getCropBlobLoading:!1,dialogTitleType:1,pageNO:1,pageSize:20,total:0,active:2}},computed:{dialogTitle:function(){var e={1:"添加",2:"编辑"};return e[this.dialogTitleType]},isTokenId:function(){var e=/^(T|t)[0-9a-zA-Z]{33}-tron$|^[0-9a-zA-Z]{43,44}-solana$|^[0-9a-zA-Z]{20,50}-[0-z]{1,10}$|^0x[0-9a-zA-Z]{40}-[0-z]{1,10}$|^0x[0-9a-zA-Z::_]{1,}::[A-Z_]+-sui$/,t=this.form.token_id.includes(":")||this.form.token_id.includes("(")||this.form.token_id.includes("brc20")||this.form.token_id.includes("-");return e.test(this.form.token_id)||t}},watch:{"form.token_id":function(){var e=this;if(this.form.token_id&&1===this.dialogTitleType){var t=/^(T|t)[0-9a-zA-Z]{33}-tron$|^[0-9a-zA-Z]{43,44}-solana$|^[0-9a-zA-Z]{20,50}-[0-z]{1,10}$|^0x[0-9a-zA-Z]{40}-[0-z]{1,10}$|^0x[0-9a-zA-Z::_]{1,}::[A-Z_]+-sui$/,o=this.form.token_id.includes(":")||this.form.token_id.includes("(")||this.form.token_id.includes("brc20")||this.form.token_id.includes("-");t.test(this.form.token_id)||o?(y&&(clearTimeout(y),y=null),y=setTimeout((function(){e.getTokenInfo(e.form.token_id)}),1e3)):this.form.symbol=""}else this.form.symbol=""}},created:function(){this.getUpdateIconList()},methods:{getTokenInfo:function(e){var t=this;this.addLoading=!0,Object(h["jc"])(e).then((function(e){var o,i,n,r,l,a;t.form.symbol=(null===e||void 0===e||null===(o=e.name_space)||void 0===o?void 0:o.symbol)||"",t.form.website=null===e||void 0===e||null===(i=e.name_space)||void 0===i?void 0:i.website,t.form.white_paper=null===e||void 0===e||null===(n=e.name_space)||void 0===n?void 0:n.white_paper,t.form.telegram=null===e||void 0===e?void 0:e.community_space.telegram,t.form.twitter=null===e||void 0===e||null===(r=e.community_space)||void 0===r?void 0:r.twitter,t.form.btok=null===e||void 0===e||null===(l=e.community_space)||void 0===l?void 0:l.btok,t.form.qq=null===e||void 0===e||null===(a=e.community_space)||void 0===a?void 0:a.qq,t.form.description=null===e||void 0===e?void 0:e.description,t.form.opening_at=null===e||void 0===e?void 0:e.opening_at,t.form.intro_cn=null===e||void 0===e?void 0:e.intro_cn,t.form.intro_en=null===e||void 0===e?void 0:e.intro_en,t.form.remark=null===e||void 0===e?void 0:e.remark,t.form.fee=null===e||void 0===e?void 0:e.fee,t.form.tx_hash=null===e||void 0===e?void 0:e.tx_hash})).catch((function(){t.form.symbol=""})).finally((function(){t.addLoading=!1}))},getUpdateIconList:function(){var e=this;this.dataLoading=!0,Object(h["kc"])(this.pageNO,this.pageSize).then((function(t){e.total=t.token_logo_count||0,e.tableData=t.token_logo_list||[]})).catch((function(){e.tableData=[]})).finally((function(){e.dataLoading=!1}))},handleCurrentChange:function(e){this.pageNO=e,this.getUpdateIconList()},handleSizeChange:function(e){this.pageSize=e,this.getUpdateIconList()},handelAdd:function(){this.dialogTitleType=1,this.dialogVisible=!0,this.removeFile(),this.form={token_id:"",remark:"",fee:0,tx_hash:"",profile_picture:"",intro_en:"",intro_cn:""}},updateLogoIcon:function(){var e=this;this.$refs.form.validate((function(t){if(t){e.addLoading=!0;var o=new FormData,i=Object(b["a"])({},e.form);i.profile_picture?o.append("is_updatePic",1):o.append("is_updatePic",0),i.opening_at||o.append("opening_at",0),Object.keys(e.form).forEach((function(t){var n,r,l=null!==(n=e.form[t])&&void 0!==n?n:"";"profile_picture"===t&&""!==l?o.append("profile_picture",l,"".concat(e.form.token_id,".").concat("image/gif"===(null===i||void 0===i||null===(r=i.profile_picture)||void 0===r?void 0:r.type)?"gif":"png")):"symbol"!==t&&""!==l&&o.append(t,l)})),Object(h["fd"])(o).then((function(t){e.$message.success("".concat(1===e.dialogTitleType?"添加":"更新","成功")),e.dialogVisible=!1,e.getUpdateIconList()})).catch((function(t){console.log(t),e.$message.error("".concat(1===e.dialogTitleType?"添加":"更新","失败"))})).finally((function(){e.addLoading=!1}))}}))},removeFile:function(){this.form.profile_picture=null,this.fileUrl="",this.$refs.fileLogo&&(this.$refs.fileLogo.value=""),this.option.img=""},getFile:function(e){this.form.profile_picture=e,console.log("-------getFile-----",this.form.profile_picture)},handelEdit:function(e){this.removeFile(),this.dialogTitleType=2,this.form={token_id:e.token+"-"+e.chain,remark:e.remark,fee:e.fee,tx_hash:e.tx_hash,profile_picture:"",intro_cn:e.intro_cn,intro_en:e.intro_en},this.dialogVisible=!0,this.getTokenInfo(this.form.token_id)},handelClose:function(){this.$refs.form.resetFields()}}};o("f884");const T=x()(U,[["render",m],["__scopeId","data-v-55945e76"]]);t["default"]=T},f884:function(e,t,o){"use strict";o("1234")},fc7f:function(e,t,o){"use strict";o("4b02")}}]);