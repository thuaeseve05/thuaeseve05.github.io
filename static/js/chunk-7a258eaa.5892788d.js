(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a258eaa"],{"2ca0":function(e,t,n){"use strict";var i=n("23e7"),r=n("e330"),c=n("06cf").f,o=n("50c4"),a=n("577e"),l=n("5a34"),d=n("1d80"),_=n("ab13"),u=n("c430"),s=r("".startsWith),f=r("".slice),p=Math.min,b=_("startsWith"),h=!u&&!b&&!!function(){var e=c(String.prototype,"startsWith");return e&&!e.writable}();i({target:"String",proto:!0,forced:!h&&!b},{startsWith:function(e){var t=a(d(this));l(e);var n=o(p(arguments.length>1?arguments[1]:void 0,t.length)),i=a(e);return s?s(t,i,n):f(t,n,n+i.length)===i}})},3222:function(e,t,n){},c957:function(e,t,n){"use strict";n.r(t);n("b0c0");var i=n("7a23"),r=function(e){return Object(i["pushScopeId"])("data-v-bb010ce6"),e=e(),Object(i["popScopeId"])(),e},c={class:"gray",style:{width:"100%"}},o={class:"card-header"},a=r((function(){return Object(i["createElementVNode"])("span",null,"轮播图管理",-1)})),l={style:{display:"inline-block","margin-left":"20px","font-size":"14px",color:"#888"}},d=Object(i["createTextVNode"])("添加"),_=r((function(){return Object(i["createElementVNode"])("div",{class:"image-slot",style:{width:"100px","min-height":"100px"}}," 加载中... ",-1)})),u=r((function(){return Object(i["createElementVNode"])("div",{class:"image-slot",style:{width:"100px","min-height":"100px"}}," 加载中... ",-1)})),s=Object(i["createTextVNode"])("是"),f=Object(i["createTextVNode"])("否"),p=Object(i["createTextVNode"])("生效"),b=Object(i["createTextVNode"])("部分失效"),h=Object(i["createTextVNode"])("失效"),m=Object(i["createTextVNode"])("编辑"),k=Object(i["createTextVNode"])("删除"),O=Object(i["createTextVNode"])("上移"),j=Object(i["createTextVNode"])("下移"),v=r((function(){return Object(i["createElementVNode"])("div",{class:"add-text"},"点击上传",-1)})),g=Object(i["createTextVNode"])("内部跳转"),V=Object(i["createTextVNode"])("外部跳转"),w=r((function(){return Object(i["createElementVNode"])("div",{class:"add-text"},"点击上传",-1)})),x=Object(i["createTextVNode"])("内部跳转"),C=Object(i["createTextVNode"])("外部跳转"),y=Object(i["createTextVNode"])(" $ "),N={class:"dialog-footer"},U=Object(i["createTextVNode"])("取 消"),B=Object(i["createTextVNode"])("确 定"),T=Object(i["createTextVNode"])("确 定");function $(e,t,n,r,$,F){var E=Object(i["resolveComponent"])("el-button"),D=Object(i["resolveComponent"])("el-table-column"),L=Object(i["resolveComponent"])("el-image"),S=Object(i["resolveComponent"])("el-link"),M=Object(i["resolveComponent"])("el-tag"),I=Object(i["resolveComponent"])("el-switch"),J=Object(i["resolveComponent"])("el-table"),z=Object(i["resolveComponent"])("el-card"),A=Object(i["resolveComponent"])("el-col"),W=Object(i["resolveComponent"])("el-row"),R=Object(i["resolveComponent"])("el-tab-pane"),H=Object(i["resolveComponent"])("el-tabs"),Y=Object(i["resolveComponent"])("el-form-item"),q=Object(i["resolveComponent"])("UploadFilled"),G=Object(i["resolveComponent"])("el-icon"),P=Object(i["resolveComponent"])("CircleCloseFilled"),Z=Object(i["resolveComponent"])("el-radio-button"),K=Object(i["resolveComponent"])("el-radio-group"),Q=Object(i["resolveComponent"])("el-input"),X=Object(i["resolveComponent"])("el-divider"),ee=Object(i["resolveComponent"])("el-date-picker"),te=Object(i["resolveComponent"])("el-input-number"),ne=Object(i["resolveComponent"])("el-form"),ie=Object(i["resolveComponent"])("el-dialog"),re=Object(i["resolveDirective"])("loading");return Object(i["openBlock"])(),Object(i["createElementBlock"])("main",c,[Object(i["createVNode"])(W,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(A,{span:24,style:{"margin-bottom":"10px"}},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(z,{class:"box-card",shadow:"never"},{header:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",o,[Object(i["createElementVNode"])("div",null,[a,Object(i["createElementVNode"])("span",l,"广告总收入：$ "+Object(i["toDisplayString"])(F.totalFee),1)]),Object(i["createVNode"])(E,{class:"button",type:"primary",link:"",onClick:Object(i["withModifiers"])(F.handelAdd,["stop"])},{default:Object(i["withCtx"])((function(){return[d]})),_:1},8,["onClick"])])]})),default:Object(i["withCtx"])((function(){return[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])(J,{ref:"baTable",class:"table-fixed",data:$.bannerList,stripe:"",style:{width:"100%"}},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(D,{prop:"banner_index",label:"index",width:"80"}),Object(i["createVNode"])(D,{prop:"picture_link",label:"图片(中文)",width:"200"},{default:Object(i["withCtx"])((function(e){var t=e.row;return[Object(i["createVNode"])(L,{style:{width:"100px"},fit:"contain","preview-src-list":[t.picture_link],src:t.picture_link,lazy:"","preview-teleported":""},{placeholder:Object(i["withCtx"])((function(){return[_]})),_:2},1032,["preview-src-list","src"])]})),_:1}),Object(i["createVNode"])(D,{prop:"render_link",label:"跳转链接(中文)","min-width":"200"},{default:Object(i["withCtx"])((function(e){var t=e.row;return[t.render_link?(Object(i["openBlock"])(),Object(i["createBlock"])(S,{key:0,type:"primary",href:t.render_link,target:"_blank",underline:!1},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.render_link),1)]})),_:2},1032,["href"])):Object(i["createCommentVNode"])("",!0)]})),_:1}),Object(i["createVNode"])(D,{prop:"picture_link_en",label:"图片(英文)",width:"150"},{default:Object(i["withCtx"])((function(e){var t=e.row;return[Object(i["createVNode"])(L,{style:{width:"100px"},fit:"contain","preview-src-list":[t.picture_link_en],src:t.picture_link_en,lazy:"","preview-teleported":""},{placeholder:Object(i["withCtx"])((function(){return[u]})),_:2},1032,["preview-src-list","src"])]})),_:1}),Object(i["createVNode"])(D,{prop:"render_link_en",label:"跳转链接(英文)","min-width":"200"},{default:Object(i["withCtx"])((function(e){var t=e.row;return[t.render_link_en?(Object(i["openBlock"])(),Object(i["createBlock"])(S,{key:0,type:"primary",href:t.render_link_en,target:"_blank",underline:!1},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.render_link_en),1)]})),_:2},1032,["href"])):Object(i["createCommentVNode"])("",!0)]})),_:1}),Object(i["createVNode"])(D,{prop:"create_time",label:"创建时间","min-width":"170"},{default:Object(i["withCtx"])((function(t){var n=t.row;return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatDate(n.create_time)),1)]})),_:1}),Object(i["createVNode"])(D,{prop:"update_time",label:"更新时间","min-width":"170"},{default:Object(i["withCtx"])((function(t){var n=t.row;return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatDate(n.update_time)),1)]})),_:1}),Object(i["createVNode"])(D,{label:"生效时间范围","min-width":"170"},{default:Object(i["withCtx"])((function(t){var n=t.row;return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatDate(n.start_time))+" ~ "+Object(i["toDisplayString"])(e.$f.formatDate(n.end_time)),1)]})),_:1}),Object(i["createVNode"])(D,{label:"广告",width:"150",align:"center"},{default:Object(i["withCtx"])((function(e){var t=e.row;return[1===t.is_adv?(Object(i["openBlock"])(),Object(i["createBlock"])(M,{key:0,type:"danger",effect:"plain"},{default:Object(i["withCtx"])((function(){return[s]})),_:1})):0===t.is_adv?(Object(i["openBlock"])(),Object(i["createBlock"])(M,{key:1,type:"info",effect:"plain"},{default:Object(i["withCtx"])((function(){return[f]})),_:1})):Object(i["createCommentVNode"])("",!0)]})),_:1}),Object(i["createVNode"])(D,{prop:"fee",label:"广告费用($)",width:"150"},{default:Object(i["withCtx"])((function(e){var t=e.row;return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(1===t.is_adv?t.fee:0),1)]})),_:1}),Object(i["createVNode"])(D,{prop:"tx_hash",label:"交易哈希",width:"200"}),Object(i["createVNode"])(D,{prop:"",label:"是否生效"},{default:Object(i["withCtx"])((function(e){var t=e.row;return[0==t.is_delete_android&&0==t.is_delete_h5&&0==t.is_delete_ios&&0==t.is_delete_pc&&(0===t.is_adv||1e3*t.start_time<=Date.now()&&1e3*t.end_time>=Date.now())?(Object(i["openBlock"])(),Object(i["createBlock"])(M,{key:0,type:"success",effect:"dark"},{default:Object(i["withCtx"])((function(){return[p]})),_:1})):t.is_delete_android||t.is_delete_h5||t.is_delete_ios||t.is_delete_pc?(Object(i["openBlock"])(),Object(i["createBlock"])(M,{key:1,type:"warning",effect:"dark"},{default:Object(i["withCtx"])((function(){return[b]})),_:1})):(Object(i["openBlock"])(),Object(i["createBlock"])(M,{key:2,type:"danger",effect:"dark"},{default:Object(i["withCtx"])((function(){return[h]})),_:1}))]})),_:1}),Object(i["createVNode"])(D,{prop:"remark",label:"备注"}),Object(i["createVNode"])(D,{label:"Android 状态",width:"200",align:"center"},{default:Object(i["withCtx"])((function(e){var t=e.row;return[Object(i["createVNode"])(I,{modelValue:t.is_delete_android,"onUpdate:modelValue":function(e){return t.is_delete_android=e},"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"展示","inactive-text":"不展示","active-value":0,"inactive-value":1,loading:$.loading[t.id],onClick:Object(i["withModifiers"])((function(e){return F.handelState(t,"android")}),["stop"])},null,8,["modelValue","onUpdate:modelValue","loading","onClick"])]})),_:1}),Object(i["createVNode"])(D,{label:"h5 状态",width:"200",align:"center"},{default:Object(i["withCtx"])((function(e){var t=e.row;return[Object(i["createVNode"])(I,{modelValue:t.is_delete_h5,"onUpdate:modelValue":function(e){return t.is_delete_h5=e},"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"展示","inactive-text":"不展示","active-value":0,"inactive-value":1,loading:$.loading[t.id],onClick:Object(i["withModifiers"])((function(e){return F.handelState(t,"h5")}),["stop"])},null,8,["modelValue","onUpdate:modelValue","loading","onClick"])]})),_:1}),Object(i["createVNode"])(D,{label:"ios 状态",width:"200",align:"center"},{default:Object(i["withCtx"])((function(e){var t=e.row;return[Object(i["createVNode"])(I,{modelValue:t.is_delete_ios,"onUpdate:modelValue":function(e){return t.is_delete_ios=e},"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"展示","inactive-text":"不展示","active-value":0,"inactive-value":1,loading:$.loading[t.id],onClick:Object(i["withModifiers"])((function(e){return F.handelState(t,"ios")}),["stop"])},null,8,["modelValue","onUpdate:modelValue","loading","onClick"])]})),_:1}),Object(i["createVNode"])(D,{label:"pc 状态",width:"200",align:"center"},{default:Object(i["withCtx"])((function(e){var t=e.row;return[Object(i["createVNode"])(I,{modelValue:t.is_delete_pc,"onUpdate:modelValue":function(e){return t.is_delete_pc=e},"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"展示","inactive-text":"不展示","active-value":0,"inactive-value":1,loading:$.loading[t.id],onClick:Object(i["withModifiers"])((function(e){return F.handelState(t,"pc")}),["stop"])},null,8,["modelValue","onUpdate:modelValue","loading","onClick"])]})),_:1}),Object(i["createVNode"])(D,{label:"固定位置",width:"200",align:"center"},{default:Object(i["withCtx"])((function(e){var t=e.row;return[Object(i["createVNode"])(I,{modelValue:t.is_fixedshowindex,"onUpdate:modelValue":function(e){return t.is_fixedshowindex=e},"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"固定","inactive-text":"不固定","active-value":1,"inactive-value":0,loading:$.loadingFixed[t.id],onClick:Object(i["withModifiers"])((function(e){return F.handelFixed(t)}),["stop"])},null,8,["modelValue","onUpdate:modelValue","loading","onClick"])]})),_:1}),Object(i["createVNode"])(D,{label:"操作",width:100==F.role?200:160,align:"center",fixed:"right"},{default:Object(i["withCtx"])((function(e){var t=e.row,n=e.$index;return[Object(i["createVNode"])(E,{type:"primary",link:"",onClick:Object(i["withModifiers"])((function(e){return F.handelEdit(t)}),["stop"])},{default:Object(i["withCtx"])((function(){return[m]})),_:2},1032,["onClick"]),100==F.role?(Object(i["openBlock"])(),Object(i["createBlock"])(E,{key:0,type:"primary",link:"",onClick:Object(i["withModifiers"])((function(e){return F.handelRemove(t)}),["stop"])},{default:Object(i["withCtx"])((function(){return[k]})),_:2},1032,["onClick"])):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(E,{type:"primary",link:"",onClick:Object(i["withModifiers"])((function(e){return F.changeIndex("top",t,n)}),["stop"]),disabled:0===n},{default:Object(i["withCtx"])((function(){return[O]})),_:2},1032,["onClick","disabled"]),Object(i["createVNode"])(E,{type:"primary",link:"",onClick:Object(i["withModifiers"])((function(e){return F.changeIndex("bottom",t,n)}),["stop"]),disabled:n===$.bannerList.length-1},{default:Object(i["withCtx"])((function(){return[j]})),_:2},1032,["onClick","disabled"])]})),_:1},8,["width"])]})),_:1},8,["data"])),[[re,$.dataLoading]])]})),_:1})]})),_:1})]})),_:1}),Object(i["createVNode"])(ie,{title:F.dialogTitle,modelValue:$.dialogVisible,"onUpdate:modelValue":t[15]||(t[15]=function(e){return $.dialogVisible=e}),width:"600px",top:"5vh","close-on-click-modal":!1,onClosed:F.handelClose},{footer:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("span",N,[Object(i["createVNode"])(E,{onClick:t[14]||(t[14]=function(e){return $.dialogVisible=!1})},{default:Object(i["withCtx"])((function(){return[U]})),_:1}),1===$.dialogTitleType?(Object(i["openBlock"])(),Object(i["createBlock"])(E,{key:0,type:"primary",loading:$.addLoading,onClick:F.addBannerV2},{default:Object(i["withCtx"])((function(){return[B]})),_:1},8,["loading","onClick"])):2===$.dialogTitleType?(Object(i["openBlock"])(),Object(i["createBlock"])(E,{key:1,type:"primary",loading:$.updateLoading,onClick:F.updateBannerV2},{default:Object(i["withCtx"])((function(){return[T]})),_:1},8,["loading","onClick"])):Object(i["createCommentVNode"])("",!0)])]})),default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(H,{modelValue:$.active,"onUpdate:modelValue":t[0]||(t[0]=function(e){return $.active=e}),class:"demo-tabs",onTabClick:F.handleClick},{default:Object(i["withCtx"])((function(){return[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])($.tabs,(function(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])(R,{label:e.name,name:e.id,key:t},null,8,["label","name"])})),128))]})),_:1},8,["modelValue","onTabClick"]),$.form[$.active]?(Object(i["openBlock"])(),Object(i["createBlock"])(ne,{key:0,"label-position":"left","label-width":"auto",ref:"form",model:$.form,rules:F.rules},{default:Object(i["withCtx"])((function(){return["android"!==$.active&&1===$.dialogTitleType?(Object(i["openBlock"])(),Object(i["createBlock"])(Y,{key:0,label:"复用安卓配置项"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(I,{modelValue:$.form[$.active].checked,"onUpdate:modelValue":t[1]||(t[1]=function(e){return $.form[$.active].checked=e}),"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949",onChange:F.reuse},null,8,["modelValue","onChange"])]})),_:1})):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(Y,{label:"是否显示"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(I,{modelValue:$.form[$.active]["is_delete_".concat($.active)],"onUpdate:modelValue":t[2]||(t[2]=function(e){return $.form[$.active]["is_delete_".concat($.active)]=e}),"active-value":0,"inactive-value":1,"active-color":"#13ce66","inactive-color":"#ff4949"},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(Y,{label:"上传图片(中文)：",prop:"profile_picture"},{default:Object(i["withCtx"])((function(){var e,n;return[Object(i["createElementVNode"])("label",{for:"uploaderFile",class:"img-preview",style:Object(i["normalizeStyle"])({backgroundImage:null!==(e=$.form[$.active])&&void 0!==e&&e.fileUrl?"url('".concat($.form[$.active].fileUrl,"')"):"none"})},[null!==(n=$.form[$.active])&&void 0!==n&&n.fileUrl?(Object(i["openBlock"])(),Object(i["createBlock"])(G,{key:1,onClick:Object(i["withModifiers"])(F.removeFile,["stop","prevent"]),class:"el-icon-error"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(P)]})),_:1},8,["onClick"])):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createVNode"])(G,{class:"el-icon-upload"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(q)]})),_:1}),v],64))],4),Object(i["createElementVNode"])("input",{type:"file",ref:"fileBanner",id:"uploaderFile",accept:"image/png, image/jpg",onChange:t[3]||(t[3]=function(e){return F.beforeUpload(e,$.active)})},null,544)]})),_:1}),Object(i["createVNode"])(Y,{label:"跳转类型"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(K,{modelValue:$.form[$.active]["render_link_type_".concat($.active)],"onUpdate:modelValue":t[4]||(t[4]=function(e){return $.form[$.active]["render_link_type_".concat($.active)]=e}),size:"small"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(Z,{label:0,value:"0"},{default:Object(i["withCtx"])((function(){return[g]})),_:1}),Object(i["createVNode"])(Z,{label:1,value:"1"},{default:Object(i["withCtx"])((function(){return[V]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),Object(i["createVNode"])(Y,{label:"链接设置(中文)",prop:"render_link"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(Q,{modelValue:$.form[$.active]["render_link_".concat($.active)],"onUpdate:modelValue":t[5]||(t[5]=function(e){return $.form[$.active]["render_link_".concat($.active)]=e}),modelModifiers:{trim:!0},placeholder:"请输入想要跳转的网站链接，如不填写则点击图片后不会跳转。",clearable:""},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(Y,{label:"上传图片(英文)：",prop:"profile_picture_en"},{default:Object(i["withCtx"])((function(){var e,n;return[Object(i["createElementVNode"])("label",{for:"uploaderFileEn",class:"img-preview",style:Object(i["normalizeStyle"])({backgroundImage:null!==(e=$.form[$.active])&&void 0!==e&&e.fileUrl_en?"url('".concat($.form[$.active].fileUrl_en,"')"):"none"})},[null!==(n=$.form[$.active])&&void 0!==n&&n.fileUrl_en?(Object(i["openBlock"])(),Object(i["createBlock"])(G,{key:1,onClick:Object(i["withModifiers"])(F.removeFileEn,["stop","prevent"]),class:"el-icon-error"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(P)]})),_:1},8,["onClick"])):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createVNode"])(G,{class:"el-icon-upload"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(q)]})),_:1}),w],64))],4),Object(i["createElementVNode"])("input",{type:"file",ref:"fileBannerEn",id:"uploaderFileEn",accept:"image/png, image/jpg",onChange:t[6]||(t[6]=function(e){return F.beforeUpload(e,$.active,"en")})},null,544)]})),_:1}),Object(i["createVNode"])(Y,{label:"跳转类型"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(K,{modelValue:$.form[$.active]["render_link_type_en_".concat($.active)],"onUpdate:modelValue":t[7]||(t[7]=function(e){return $.form[$.active]["render_link_type_en_".concat($.active)]=e}),size:"small"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(Z,{label:0,value:"0"},{default:Object(i["withCtx"])((function(){return[x]})),_:1}),Object(i["createVNode"])(Z,{label:1,value:"1"},{default:Object(i["withCtx"])((function(){return[C]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),Object(i["createVNode"])(Y,{label:"链接设置(英文)",prop:"render_link_en"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(Q,{modelValue:$.form[$.active]["render_link_en_".concat($.active)],"onUpdate:modelValue":t[8]||(t[8]=function(e){return $.form[$.active]["render_link_en_".concat($.active)]=e}),modelModifiers:{trim:!0},placeholder:"请输入想要跳转的网站链接，如不填写则点击图片后不会跳转。",clearable:""},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(X),Object(i["createVNode"])(Y,{label:"是否为广告",prop:"is_adv"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(I,{modelValue:$.form.is_adv,"onUpdate:modelValue":t[9]||(t[9]=function(e){return $.form.is_adv=e}),"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},null,8,["modelValue"])]})),_:1}),1===$.form.is_adv?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createVNode"])(Y,{label:"时间范围",prop:"time"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(ee,{modelValue:$.form.time,"onUpdate:modelValue":t[10]||(t[10]=function(e){return $.form.time=e}),type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(Y,{label:"广告费用",prop:"fee"},{default:Object(i["withCtx"])((function(){return[y,Object(i["createVNode"])(te,{modelValue:$.form.fee,"onUpdate:modelValue":t[11]||(t[11]=function(e){return $.form.fee=e}),min:0,controls:!1},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(Y,{label:"交易哈希",prop:"tx_hash"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(Q,{modelValue:$.form.tx_hash,"onUpdate:modelValue":t[12]||(t[12]=function(e){return $.form.tx_hash=e}),clearable:""},null,8,["modelValue"])]})),_:1})],64)):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(Y,{label:"备注",prop:"remark"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(Q,{modelValue:$.form.remark,"onUpdate:modelValue":t[13]||(t[13]=function(e){return $.form.remark=e}),modelModifiers:{trim:!0},placeholder:"请输入备注",clearable:""},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"])):Object(i["createCommentVNode"])("",!0)])]})),_:1},8,["title","modelValue","onClosed"])])}var F=n("5530"),E=n("ade3"),D=(n("e9c4"),n("d3b7"),n("a9e3"),n("d81d"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("2ca0"),n("365c")),L={profile_picture:"",profile_picture_en:"",background:"",time:[],render_link:"",render_link_en:"",is_mobile:1,remark:"",language:"cn",is_adv:1,fee:0,tx_hash:"",android:{picture_link_android:"",render_link_type_android:1,render_link_android:"",picture_link_en_android:"",render_link_type_en_android:1,render_link_en_android:"",is_delete_android:0,checked:1,fileUrl:"",fileUrl_en:""},ios:{picture_link_ios:"",render_link_type_ios:1,render_link_ios:"",picture_link_en_ios:"",render_link_type_en_ios:1,render_link_en_ios:"",is_delete_ios:0,checked:0,fileUrl:"",fileUrl_en:""},h5:{picture_link_h5:"",render_link_type_h5:1,render_link_h5:"",picture_link_en_h5:"",render_link_type_en_h5:1,render_link_en_h5:"",is_delete_h5:0,checked:0,fileUrl:"",fileUrl_en:""},pc:{picture_link_pc:"",render_link_type_pc:1,render_link_pc:"",picture_link_en_pc:"",render_link_type_en_pc:1,render_link_en_pc:"",is_delete_pc:0,checked:0,fileUrl:"",fileUrl_en:""}},S={data:function(){return{form:JSON.parse(JSON.stringify(L)),dialogVisible:!1,uploadFile:null,fileUrl:"",uploadFileEn:null,fileUrlEn:"",loading:{},loadingFixed:{},dialogTitleType:1,addLoading:!1,updateLoading:!1,bannerList:[],dataLoading:!0,titleList:{add:"添加轮播图",edit:"编辑轮播图"},title:"添加轮播图",index:"",tabs:[{name:"Android",id:"android"},{name:"IOS",id:"ios"},{name:"H5",id:"h5"},{name:"PC",id:"pc"}],active:"android"}},mounted:function(){this.getBanner()},computed:{currentChecked:{get:function(){var e,t;return null!==(e=null===(t=this.form[this.active])||void 0===t?void 0:t.checked)&&void 0!==e?e:0},set:function(e){this.form[this.active]&&(this.form[this.active].checked=e)}},dialogTitle:function(){var e={1:"添加",2:"编辑"};return e[this.dialogTitleType]},rules:function(){var e={time:[{required:!0,message:"请输入时间",trigger:"blur"}],fee:[{required:!0,message:"请输入费用",trigger:"blur"}]};return this.dialogTitleType,e},totalFee:function(){return this.bannerList.reduce((function(e,t){return(Number(null===t||void 0===t?void 0:t.fee)||0)+e}),0)},role:function(){return this.$store.state.userInfo.role}},methods:{reuse:function(e){var t;e?(this.form[this.active]["picture_link_".concat(this.active)]=this.form.android.picture_link_android,this.form[this.active]["render_link_type_".concat(this.active)]=this.form.android.render_link_type_android,this.form[this.active]["render_link_".concat(this.active)]=this.form.android.render_link_android,this.form[this.active]["picture_link_en_".concat(this.active)]=this.form.android.picture_link_en_android,this.form[this.active]["render_link_type_en_".concat(this.active)]=this.form.android.render_link_type_en_android,this.form[this.active]["render_link_en_".concat(this.active)]=this.form.android.render_link_en_android,this.form[this.active]["is_delete_".concat(this.active)]=this.form.android.is_delete_android,this.form[this.active].checked=this.form.android.checked,this.form[this.active].fileUrl=this.form.android.fileUrl,this.form[this.active].fileUrl_en=this.form.android.fileUrl_en):this.form[this.active]=(t={},Object(E["a"])(t,"picture_link_".concat(this.active),""),Object(E["a"])(t,"render_link_type_".concat(this.active),1),Object(E["a"])(t,"render_link_".concat(this.active),""),Object(E["a"])(t,"picture_link_en_".concat(this.active),""),Object(E["a"])(t,"render_link_type_en_".concat(this.active),1),Object(E["a"])(t,"render_link_en_".concat(this.active),""),Object(E["a"])(t,"is_delete_".concat(this.active),0),Object(E["a"])(t,"checked",0),Object(E["a"])(t,"fileUrl",""),Object(E["a"])(t,"fileUrl_en",""),t)},handleClick:function(e){this.active=e.id},getData:function(e){var t=JSON.parse(JSON.stringify(e));return["android","h5","ios","pc"].forEach((function(e){delete t[e].checked,delete t[e].fileUrl,delete t[e].fileUrl_en})),Object(F["a"])(Object(F["a"])(Object(F["a"])(Object(F["a"])(Object(F["a"])({},t.android),t.h5),t.ios),t.pc),{},{remark:e.remark,is_adv:e.is_adv,fee:e.fee,start_time:1===e.is_adv?parseInt(Date.parse(e.time[0])/1e3):0,end_time:1===e.is_adv?parseInt(Date.parse(e.time[1])/1e3):0,id:e.id,tx_hash:e.tx_hash})},handelAdd:function(){this.form=JSON.parse(JSON.stringify(L)),this.dialogTitleType=1,this.dialogVisible=!0},handelClose:function(){this.$refs.form&&this.$refs.form.resetFields(),this.fileUrl="",this.fileUrlEn=""},removeFile:function(){this.$refs.fileBanner.value="",this.form[this.active].fileUrl="",this.form[this.active]["picture_link_".concat(this.active)]=""},removeFileEn:function(){this.$refs.fileBannerEn.value="",this.form[this.active].fileUrl_en="",this.form[this.active]["picture_link_en_".concat(this.active)]=""},getBanner:function(){var e=this;this.dataLoading=!0,Object(D["ub"])().then((function(t){e.bannerList=(null===t||void 0===t?void 0:t.map((function(e){return e.picture_link_android?Object(F["a"])(Object(F["a"])({},e),{},{picture_link:e.picture_link_android,picture_link_en:e.picture_link_en_android,render_link:e.render_link_android,render_link_en:e.render_link_en_android,is_delete:e.is_delete_android}):e.picture_link_h5?Object(F["a"])(Object(F["a"])({},e),{},{picture_link:e.picture_link_h5,picture_link_en:e.picture_link_en_h5,render_link:e.render_link_h5,render_link_en:e.render_link_en_h5,is_delete:e.is_delete_h5}):e.picture_link_ios?Object(F["a"])(Object(F["a"])({},e),{},{picture_link:e.picture_link_ios,picture_link_en:e.picture_link_en_ios,render_link:e.render_link_ios,render_link_en:e.render_link_en_ios,is_delete:e.is_delete_ios}):e.picture_link_pc?Object(F["a"])(Object(F["a"])({},e),{},{picture_link:e.picture_link_pc,picture_link_en:e.picture_link_en_pc,render_link:e.render_link_pc,render_link_en:e.render_link_en_pc,is_delete:e.is_delete_pc}):e})))||[],e.$nextTick((function(){e.$refs.baTable.doLayout()}))})).catch((function(){e.bannerList=[]})).finally((function(){e.dataLoading=!1}))},beforeUpload:function(e,t,n){var i=e.target.files[0];if(i.size/1024/1024>10)return this.$message.error("图片大小超出限制"),!1;"en"===n?this.form[t].fileUrl_en=window.URL.createObjectURL(i):this.form[t].fileUrl=window.URL.createObjectURL(i),this.uploadBanner(i,t,n)},uploadBanner:function(e,t,n){var i=this,r=new FormData;r.append("profile_picture",e,e.name),Object(D["Ed"])(r).then((function(e){"en"===n?i.form[t]["picture_link_en_".concat(t)]=e.picture_link||"":i.form[t]["picture_link_".concat(t)]=e.picture_link||""})).catch((function(){i.$message.error("上传图片失败")})).finally((function(){i.addLoading=!1}))},addBannerV2:function(){var e=this;this.$refs.form.validate((function(t){if(t){for(var n=e.getData(e.form),i=0,r=["android","h5","ios","pc"];i<r.length;i++){var c=r[i];if(n["render_link_type_".concat(c)]&&1===n["render_link_type_".concat(c)]&&n["render_link_".concat(c)]&&!n["render_link_".concat(c)].startsWith("http"))return void e.$message.error("中文外部跳转输入不合法");if(n["render_link_type_en_".concat(c)]&&1===n["render_link_type_en_".concat(c)]&&n["render_link_en_".concat(c)]&&!n["render_link_en_".concat(c)].startsWith("http"))return void e.$message.error("英文外部跳转输入不合法")}e.addLoading=!0,Object(D["d"])(n).then((function(t){e.$message.success("添加成功"),e.dialogVisible=!1,e.getBanner()})).catch((function(){e.$message.error("添加失败")})).finally((function(){e.addLoading=!1}))}}))},updateBannerV2:function(){var e=this;this.$refs.form.validate((function(t){if(t){for(var n=e.getData(e.form),i=0,r=["android","h5","ios","pc"];i<r.length;i++){var c=r[i];if(n["render_link_type_".concat(c)]&&1===n["render_link_type_".concat(c)]&&n["render_link_".concat(c)]&&!n["render_link_".concat(c)].startsWith("http"))return void e.$message.error("中文外部跳转输入不合法");if(n["render_link_type_en_".concat(c)]&&1===n["render_link_type_en_".concat(c)]&&n["render_link_en_".concat(c)]&&!n["render_link_en_".concat(c)].startsWith("http"))return void e.$message.error("英文外部跳转输入不合法")}e.updateLoading=!0,Object(D["Zc"])(n).then((function(t){e.$message.success("更新成功"),e.dialogVisible=!1,e.getBanner()})).catch((function(){e.$message.error("更新失败")})).finally((function(){e.updateLoading=!1}))}}))},changeIndex:function(e,t,n){var i=this,r={banner1_id:t.id};"top"===e?r.banner2_id=this.bannerList[n-1].id:"bottom"===e&&(r.banner2_id=this.bannerList[n+1].id),this.dataLoading=!0,Object(D["M"])(r).then((function(e){i.$message.success("调整顺序成功")})).catch((function(){i.$message.error("调整顺序失败")})).finally((function(){i.getBanner()}))},handelState:function(e,t){var n=this,i={id:e.id,platform:t,is_delete:e["is_delete_".concat(t)]};this.loading[e.id]=!0,Object(D["J"])(i).then((function(e){n.$message.success("切换成功")})).catch((function(){n.$message.error("切换失败")})).finally((function(){n.loading[e.id]=!1,n.getBanner()}))},handelFixed:function(e){var t=this,n={id:e.id,is_fixedshowindex:e.is_fixedshowindex};this.loadingFixed[e.id]=!0,Object(D["G"])(n).then((function(e){t.$message.success("更新成功")})).catch((function(){t.$message.error("更新失败")})).finally((function(){t.loadingFixed[e.id]=!1,t.getBanner()}))},handelEdit:function(e){this.dialogTitleType=2,this.form=Object(F["a"])(Object(F["a"])({},e),{},{android:{picture_link_android:e.picture_link_android,render_link_type_android:e.render_link_type_android,render_link_android:e.render_link_android,picture_link_en_android:e.picture_link_en_android,render_link_type_en_android:e.render_link_type_en_android,render_link_en_android:e.render_link_en_android,is_delete_android:e.is_delete_android,checked:1,fileUrl:e.picture_link_android,fileUrl_en:e.picture_link_en_android},ios:{picture_link_ios:e.picture_link_ios,render_link_type_ios:e.render_link_type_ios,render_link_ios:e.render_link_ios,picture_link_en_ios:e.picture_link_en_ios,render_link_type_en_ios:e.render_link_type_en_ios,render_link_en_ios:e.render_link_en_ios,is_delete_ios:e.is_delete_ios,checked:0,fileUrl:e.picture_link_ios,fileUrl_en:e.picture_link_en_ios},h5:{picture_link_h5:e.picture_link_h5,render_link_type_h5:e.render_link_type_h5,render_link_h5:e.render_link_h5,picture_link_en_h5:e.picture_link_en_h5,render_link_type_en_h5:e.render_link_type_en_h5,render_link_en_h5:e.render_link_en_h5,is_delete_h5:e.is_delete_h5,checked:0,fileUrl:e.picture_link_h5,fileUrl_en:e.picture_link_en_h5},pc:{picture_link_pc:e.picture_link_pc,render_link_type_pc:e.render_link_type_pc,render_link_pc:e.render_link_pc,picture_link_en_pc:e.picture_link_en_pc,render_link_type_en_pc:e.render_link_type_en_pc,render_link_en_pc:e.render_link_en_pc,is_delete_pc:e.is_delete_pc,checked:0,fileUrl:e.picture_link_pc,fileUrl_en:e.picture_link_en_pc},time:[new Date(1e3*e.start_time),new Date(1e3*e.end_time)]}),this.dialogVisible=!0},handelRemove:function(e){var t=this;this.$messageBox.confirm('确定要删除当前广告吗? <br/><image src="'.concat(e.picture_link,'" height="50px"></image>'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0}).then((function(){Object(D["Ec"])(e.id).then((function(e){t.$message({type:"success",message:"删除成功！"}),t.getBanner()})).catch((function(e){console.log(e),t.$message({type:"error",message:"删除失败！"})}))})).catch((function(){t.$message({type:"info",message:"已取消"})}))}}},M=(n("cf53"),n("6b0d")),I=n.n(M);const J=I()(S,[["render",$],["__scopeId","data-v-bb010ce6"]]);t["default"]=J},cf53:function(e,t,n){"use strict";n("3222")},d81d:function(e,t,n){"use strict";var i=n("23e7"),r=n("b727").map,c=n("1dde"),o=c("map");i({target:"Array",proto:!0,forced:!o},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},e9c4:function(e,t,n){var i=n("23e7"),r=n("da84"),c=n("d066"),o=n("2ba4"),a=n("e330"),l=n("d039"),d=r.Array,_=c("JSON","stringify"),u=a(/./.exec),s=a("".charAt),f=a("".charCodeAt),p=a("".replace),b=a(1..toString),h=/[\uD800-\uDFFF]/g,m=/^[\uD800-\uDBFF]$/,k=/^[\uDC00-\uDFFF]$/,O=function(e,t,n){var i=s(n,t-1),r=s(n,t+1);return u(m,e)&&!u(k,r)||u(k,e)&&!u(m,i)?"\\u"+b(f(e,0),16):e},j=l((function(){return'"\\udf06\\ud834"'!==_("\udf06\ud834")||'"\\udead"'!==_("\udead")}));_&&i({target:"JSON",stat:!0,forced:j},{stringify:function(e,t,n){for(var i=0,r=arguments.length,c=d(r);i<r;i++)c[i]=arguments[i];var a=o(_,null,c);return"string"==typeof a?p(a,h,O):a}})}}]);