(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0960b8f2"],{3555:function(e,t,n){"use strict";n("3f94")},"3f94":function(e,t,n){},beaa:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o=function(e){return Object(r["pushScopeId"])("data-v-02f87fba"),e=e(),Object(r["popScopeId"])(),e},i={class:"gray",style:{width:"100%"}},c={class:"card-header"},l=o((function(){return Object(r["createElementVNode"])("span",null,"IOS弹窗海报管理",-1)})),a={style:{display:"inline-block","margin-left":"20px","font-size":"14px",color:"#888"}},d=Object(r["createTextVNode"])("添加"),u=o((function(){return Object(r["createElementVNode"])("div",{class:"image-slot",style:{width:"100px","min-height":"100px"}}," 加载中... ",-1)})),f=o((function(){return Object(r["createElementVNode"])("div",{class:"image-slot",style:{width:"100px","min-height":"100px"}}," 加载中... ",-1)})),b=Object(r["createTextVNode"])("是"),s=Object(r["createTextVNode"])("否"),p=Object(r["createTextVNode"])("生效"),m=Object(r["createTextVNode"])("失效"),O=Object(r["createTextVNode"])("编辑"),j=Object(r["createTextVNode"])("删除"),h=Object(r["createTextVNode"])("上移"),_=Object(r["createTextVNode"])("下移"),V=o((function(){return Object(r["createElementVNode"])("div",{class:"add-text"},[Object(r["createTextVNode"])("点击上传"),Object(r["createElementVNode"])("br"),Object(r["createTextVNode"])("(请选择 9:16 尺寸图片)")],-1)})),g=o((function(){return Object(r["createElementVNode"])("div",{class:"add-text"},[Object(r["createTextVNode"])("点击上传"),Object(r["createElementVNode"])("br"),Object(r["createTextVNode"])("(请选择 9:16 尺寸图片)")],-1)})),w=Object(r["createTextVNode"])("小时"),x=Object(r["createTextVNode"])("天"),k=Object(r["createTextVNode"])("周"),v=Object(r["createTextVNode"])(" $ "),C={class:"dialog-footer"},N=Object(r["createTextVNode"])("取 消"),y=Object(r["createTextVNode"])("确 定"),T=Object(r["createTextVNode"])("确 定");function U(e,t,n,o,U,E){var B=Object(r["resolveComponent"])("el-button"),D=Object(r["resolveComponent"])("el-table-column"),S=Object(r["resolveComponent"])("el-image"),$=Object(r["resolveComponent"])("el-link"),L=Object(r["resolveComponent"])("el-tag"),I=Object(r["resolveComponent"])("el-switch"),F=Object(r["resolveComponent"])("el-table"),q=Object(r["resolveComponent"])("el-card"),M=Object(r["resolveComponent"])("el-col"),A=Object(r["resolveComponent"])("el-row"),R=Object(r["resolveComponent"])("el-input"),z=Object(r["resolveComponent"])("el-form-item"),H=Object(r["resolveComponent"])("UploadFilled"),P=Object(r["resolveComponent"])("el-icon"),Y=Object(r["resolveComponent"])("CircleCloseFilled"),J=Object(r["resolveComponent"])("el-radio"),X=Object(r["resolveComponent"])("el-radio-group"),G=Object(r["resolveComponent"])("el-input-number"),K=Object(r["resolveComponent"])("el-date-picker"),Q=Object(r["resolveComponent"])("el-form"),W=Object(r["resolveComponent"])("el-dialog"),Z=Object(r["resolveDirective"])("loading");return Object(r["openBlock"])(),Object(r["createElementBlock"])("main",i,[Object(r["createVNode"])(A,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(M,{span:24,style:{"margin-bottom":"10px"}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(q,{class:"box-card",shadow:"never"},{header:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",c,[Object(r["createElementVNode"])("div",null,[l,Object(r["createElementVNode"])("span",a,"广告总收入：$ "+Object(r["toDisplayString"])(E.totalFee),1)]),Object(r["createVNode"])(B,{class:"button",type:"primary",link:"",onClick:Object(r["withModifiers"])(E.handelAdd,["stop"])},{default:Object(r["withCtx"])((function(){return[d]})),_:1},8,["onClick"])])]})),default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])(F,{ref:"opTable",data:U.bannerList,stripe:"",style:{width:"100%"}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(D,{prop:"banner_index",label:"index",width:"80"}),Object(r["createVNode"])(D,{prop:"title",label:"标题(中文)","min-width":"200"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.title),1)]})),_:1}),Object(r["createVNode"])(D,{prop:"picture_link",label:"图片(中文)",width:"150"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[Object(r["createVNode"])(S,{style:{height:"100px"},fit:"contain","preview-src-list":[t.picture_link],src:t.picture_link,lazy:"","preview-teleported":""},{placeholder:Object(r["withCtx"])((function(){return[u]})),_:2},1032,["preview-src-list","src"])]})),_:1}),Object(r["createVNode"])(D,{prop:"render_link",label:"跳转链接(中文)","min-width":"200"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[t.render_link?(Object(r["openBlock"])(),Object(r["createBlock"])($,{key:0,type:"primary",href:t.render_link,target:"_blank",underline:!1},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.render_link),1)]})),_:2},1032,["href"])):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(D,{prop:"title_en",label:"标题(英文)","min-width":"200"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.title_en),1)]})),_:1}),Object(r["createVNode"])(D,{prop:"picture_link_en",label:"图片(英文)",width:"150"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[Object(r["createVNode"])(S,{style:{height:"100px"},fit:"contain","preview-src-list":[t.picture_link_en],src:t.picture_link_en,lazy:"","preview-teleported":""},{placeholder:Object(r["withCtx"])((function(){return[f]})),_:2},1032,["preview-src-list","src"])]})),_:1}),Object(r["createVNode"])(D,{prop:"render_link_en",label:"跳转链接(英文)","min-width":"200"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[t.render_link_en?(Object(r["openBlock"])(),Object(r["createBlock"])($,{key:0,type:"primary",href:t.render_link_en,target:"_blank",underline:!1},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.render_link_en),1)]})),_:2},1032,["href"])):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(D,{prop:"create_time",label:"创建时间","min-width":"170"},{default:Object(r["withCtx"])((function(t){var n=t.row;return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.$f.formatDate(n.create_time)),1)]})),_:1}),Object(r["createVNode"])(D,{prop:"update_time",label:"更新时间","min-width":"170"},{default:Object(r["withCtx"])((function(t){var n=t.row;return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.$f.formatDate(n.update_time)),1)]})),_:1}),Object(r["createVNode"])(D,{label:"生效时间范围","min-width":"170"},{default:Object(r["withCtx"])((function(t){var n=t.row;return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.$f.formatDate(n.start_time))+" ~ "+Object(r["toDisplayString"])(e.$f.formatDate(n.end_time)),1)]})),_:1}),Object(r["createVNode"])(D,{label:"广告",width:"150",align:"center"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[1===t.is_adv?(Object(r["openBlock"])(),Object(r["createBlock"])(L,{key:0,type:"danger",effect:"plain"},{default:Object(r["withCtx"])((function(){return[b]})),_:1})):0===t.is_adv?(Object(r["openBlock"])(),Object(r["createBlock"])(L,{key:1,type:"info",effect:"plain"},{default:Object(r["withCtx"])((function(){return[s]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(D,{prop:"fee",label:"广告费用($)",width:"150"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(1===t.is_adv?t.fee:0),1)]})),_:1}),Object(r["createVNode"])(D,{prop:"tx_hash",label:"交易哈希",width:"200"}),Object(r["createVNode"])(D,{prop:"",label:"是否生效",width:"100"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[0===t.is_delete&&(0===t.is_adv||1e3*t.start_time<=Date.now()&&1e3*t.end_time>=Date.now())?(Object(r["openBlock"])(),Object(r["createBlock"])(L,{key:0,type:"success",effect:"dark"},{default:Object(r["withCtx"])((function(){return[p]})),_:1})):(Object(r["openBlock"])(),Object(r["createBlock"])(L,{key:1,type:"danger",effect:"dark"},{default:Object(r["withCtx"])((function(){return[m]})),_:1}))]})),_:1}),Object(r["createVNode"])(D,{prop:"remark",label:"备注"}),Object(r["createVNode"])(D,{label:"状态",width:"200",align:"center"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[Object(r["createVNode"])(I,{modelValue:t.is_delete,"onUpdate:modelValue":function(e){return t.is_delete=e},"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"展示","inactive-text":"不展示","active-value":0,"inactive-value":1,loading:U.loading[t.id],onClick:Object(r["withModifiers"])((function(e){return E.handelState(t)}),["stop"])},null,8,["modelValue","onUpdate:modelValue","loading","onClick"])]})),_:1}),Object(r["createVNode"])(D,{label:"操作",width:100==E.role?200:160,align:"center",fixed:"right"},{default:Object(r["withCtx"])((function(e){var t=e.row,n=e.$index;return[Object(r["createVNode"])(B,{type:"primary",link:"",onClick:Object(r["withModifiers"])((function(e){return E.handelEdit(t)}),["stop"])},{default:Object(r["withCtx"])((function(){return[O]})),_:2},1032,["onClick"]),100==E.role?(Object(r["openBlock"])(),Object(r["createBlock"])(B,{key:0,type:"primary",link:"",onClick:Object(r["withModifiers"])((function(e){return E.handelRemove(t)}),["stop"])},{default:Object(r["withCtx"])((function(){return[j]})),_:2},1032,["onClick"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(B,{type:"primary",link:"",onClick:Object(r["withModifiers"])((function(e){return E.changeIndex("top",t,n)}),["stop"]),disabled:0===n},{default:Object(r["withCtx"])((function(){return[h]})),_:2},1032,["onClick","disabled"]),Object(r["createVNode"])(B,{type:"primary",link:"",onClick:Object(r["withModifiers"])((function(e){return E.changeIndex("bottom",t,n)}),["stop"]),disabled:n===U.bannerList.length-1},{default:Object(r["withCtx"])((function(){return[_]})),_:2},1032,["onClick","disabled"])]})),_:1},8,["width"])]})),_:1},8,["data"])),[[Z,U.dataLoading]])]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(W,{title:E.dialogTitle,modelValue:U.dialogVisible,"onUpdate:modelValue":t[15]||(t[15]=function(e){return U.dialogVisible=e}),width:"600px",top:"5vh","close-on-click-modal":!1,onClosed:E.handelClose},{footer:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("span",C,[Object(r["createVNode"])(B,{onClick:t[14]||(t[14]=function(e){return U.dialogVisible=!1})},{default:Object(r["withCtx"])((function(){return[N]})),_:1}),1===U.dialogTitleType?(Object(r["openBlock"])(),Object(r["createBlock"])(B,{key:0,type:"primary",loading:U.addLoading,onClick:E.addOpeningIOSAd},{default:Object(r["withCtx"])((function(){return[y]})),_:1},8,["loading","onClick"])):2===U.dialogTitleType?(Object(r["openBlock"])(),Object(r["createBlock"])(B,{key:1,type:"primary",loading:U.updateLoading,onClick:E.updateOpeningIOSAd},{default:Object(r["withCtx"])((function(){return[T]})),_:1},8,["loading","onClick"])):Object(r["createCommentVNode"])("",!0)])]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(Q,{"label-position":"left","label-width":"auto",ref:"form",model:U.form,rules:E.rules},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(z,{label:"标题(中文)",prop:"title"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(R,{modelValue:U.form.title,"onUpdate:modelValue":t[0]||(t[0]=function(e){return U.form.title=e}),modelModifiers:{trim:!0},placeholder:"请上传标题",clearable:""},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(z,{label:"上传图片(中文)："},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("label",{for:"uploaderFile",class:"img-preview",style:Object(r["normalizeStyle"])({backgroundImage:U.fileUrl?"url("+U.fileUrl+")":""})},[U.fileUrl?(Object(r["openBlock"])(),Object(r["createBlock"])(P,{key:1,onClick:Object(r["withModifiers"])(E.removeFile,["stop","prevent"]),class:"el-icon-error"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(Y)]})),_:1},8,["onClick"])):(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:0},[Object(r["createVNode"])(P,{class:"el-icon-upload"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(H)]})),_:1}),V],64))],4),Object(r["createElementVNode"])("input",{type:"file",ref:"fileBanner",id:"uploaderFile",accept:"image/png, image/jpg",onChange:t[1]||(t[1]=function(){return E.beforeUpload&&E.beforeUpload.apply(E,arguments)})},null,544)]})),_:1}),Object(r["createVNode"])(z,{label:"链接设置(中文)",prop:"render_link"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(R,{modelValue:U.form.render_link,"onUpdate:modelValue":t[2]||(t[2]=function(e){return U.form.render_link=e}),modelModifiers:{trim:!0},placeholder:"请输入想要跳转的网站链接，如不填写则点击图片后不会跳转。",clearable:""},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(z,{label:"标题(英文)",prop:"title"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(R,{modelValue:U.form.title_en,"onUpdate:modelValue":t[3]||(t[3]=function(e){return U.form.title_en=e}),modelModifiers:{trim:!0},placeholder:"请上传英文标题",clearable:""},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(z,{label:"上传图片(英文)："},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("label",{for:"uploaderFileEn",class:"img-preview",style:Object(r["normalizeStyle"])({backgroundImage:U.fileUrlEn?"url("+U.fileUrlEn+")":""})},[U.fileUrlEn?(Object(r["openBlock"])(),Object(r["createBlock"])(P,{key:1,onClick:Object(r["withModifiers"])(E.removeFileEn,["stop","prevent"]),class:"el-icon-error"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(Y)]})),_:1},8,["onClick"])):(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:0},[Object(r["createVNode"])(P,{class:"el-icon-upload"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(H)]})),_:1}),g],64))],4),Object(r["createElementVNode"])("input",{type:"file",ref:"fileBannerEn",id:"uploaderFileEn",accept:"image/png, image/jpg",onChange:t[4]||(t[4]=function(){return E.beforeUploadEn&&E.beforeUploadEn.apply(E,arguments)})},null,544)]})),_:1}),Object(r["createVNode"])(z,{label:"链接设置(英文)",prop:"render_link_en"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(R,{modelValue:U.form.render_link_en,"onUpdate:modelValue":t[5]||(t[5]=function(e){return U.form.render_link_en=e}),modelModifiers:{trim:!0},placeholder:"请输入想要跳转的网站链接，如不填写则点击图片后不会跳转。",clearable:""},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(z,{label:"是否为广告",prop:"is_adv"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(I,{modelValue:U.form.is_adv,"onUpdate:modelValue":t[6]||(t[6]=function(e){return U.form.is_adv=e}),"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(z,{label:"弹窗时间单位",prop:"frequency_unittype"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(X,{modelValue:U.form.frequency_unittype,"onUpdate:modelValue":t[7]||(t[7]=function(e){return U.form.frequency_unittype=e})},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(J,{label:"hour"},{default:Object(r["withCtx"])((function(){return[w]})),_:1}),Object(r["createVNode"])(J,{label:"day"},{default:Object(r["withCtx"])((function(){return[x]})),_:1}),Object(r["createVNode"])(J,{label:"week"},{default:Object(r["withCtx"])((function(){return[k]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),Object(r["createVNode"])(z,{label:"时间单位内弹窗次数",prop:"frequency_num"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(G,{modelValue:U.form.frequency_num,"onUpdate:modelValue":t[8]||(t[8]=function(e){return U.form.frequency_num=e}),placeholder:"",min:0,step:1,"step-strictly":"",controls:!0},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(z,{label:"全部最多活动次数",prop:"frequency_maxtimes"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(G,{modelValue:U.form.frequency_maxtimes,"onUpdate:modelValue":t[9]||(t[9]=function(e){return U.form.frequency_maxtimes=e}),placeholder:"",min:0,step:1,"step-strictly":"",controls:!0},null,8,["modelValue"])]})),_:1}),1===U.form.is_adv?(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:0},[Object(r["createVNode"])(z,{label:"时间范围",prop:"time"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(K,{modelValue:U.form.time,"onUpdate:modelValue":t[10]||(t[10]=function(e){return U.form.time=e}),type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(z,{label:"广告费用",prop:"fee"},{default:Object(r["withCtx"])((function(){return[v,Object(r["createVNode"])(G,{modelValue:U.form.fee,"onUpdate:modelValue":t[11]||(t[11]=function(e){return U.form.fee=e}),min:0,controls:!1},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(z,{label:"交易哈希",prop:"tx_hash"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(R,{modelValue:U.form.tx_hash,"onUpdate:modelValue":t[12]||(t[12]=function(e){return U.form.tx_hash=e}),clearable:""},null,8,["modelValue"])]})),_:1})],64)):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(z,{label:"备注",prop:"remark"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(R,{modelValue:U.form.remark,"onUpdate:modelValue":t[13]||(t[13]=function(e){return U.form.remark=e}),modelModifiers:{trim:!0},placeholder:"请输入备注",clearable:""},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1},8,["title","modelValue","onClosed"])])}var E=n("5530"),B=n("1da1"),D=(n("96cf"),n("d3b7"),n("a9e3"),n("159b"),n("b64b"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("365c")),S={data:function(){return{form:{profile_picture:"",profile_picture_en:"",background:"",time:[],render_link:"",render_link_en:"",is_mobile:1,remark:"",language:"cn",is_adv:1,fee:0,platform:"all",tx_hash:"",title:"",title_en:"",frequency_unittype:"",frequency_num:"",frequency_maxtimes:""},dialogVisible:!1,uploadFile:null,fileUrl:"",uploadFileEn:null,fileUrlEn:"",loading:{},dialogTitleType:1,addLoading:!1,updateLoading:!1,bannerList:[],dataLoading:!0,titleList:{add:"添加轮播图",edit:"编辑轮播图"},title:"添加轮播图",index:""}},mounted:function(){this.getOpeningIOSAds()},computed:{dialogTitle:function(){var e={1:"添加",2:"编辑"};return e[this.dialogTitleType]},rules:function(){var e={time:[{required:!0,message:"请输入时间",trigger:"blur"}],fee:[{required:!0,message:"请输入费用",trigger:"blur"}]};return e},totalFee:function(){return this.bannerList.reduce((function(e,t){return(Number(null===t||void 0===t?void 0:t.fee)||0)+e}),0)},role:function(){return this.$store.state.userInfo.role}},methods:{getFormData:function(e){var t=new FormData;return Object.keys(e).forEach((function(n){return t.append(n,e[n])})),t},getData:function(e){return{profile_picture:e.profile_picture,profile_picture_en:e.profile_picture_en,background:e.background,render_link:e.render_link,render_link_en:e.render_link_en,is_mobile:e.is_mobile,remark:e.remark,language:"cn",is_adv:e.is_adv,fee:1===e.is_adv?e.fee:0,start_time:1===e.is_adv?parseInt(Date.parse(e.time[0])/1e3):0,end_time:1===e.is_adv?parseInt(Date.parse(e.time[1])/1e3):0,id:e.id,platform:"all",tx_hash:e.tx_hash,title:e.title,title_en:e.title_en,frequency_unittype:e.frequency_unittype,frequency_num:e.frequency_num,frequency_maxtimes:e.frequency_maxtimes}},handelAdd:function(){this.dialogTitleType=1,this.dialogVisible=!0},handelClose:function(){this.$refs.form.resetFields(),this.fileUrl="",this.fileUrlEn=""},removeFile:function(){this.form.profile_picture=null,this.fileUrl="",this.$refs.fileBanner.value=""},removeFileEn:function(){this.form.profile_picture_en=null,this.fileUrlEn="",this.$refs.fileBannerEn.value=""},getOpeningIOSAds:function(){var e=this;this.dataLoading=!0,Object(D["Xb"])().then((function(t){e.bannerList=t||[],e.$nextTick((function(){e.$refs.opTable.doLayout()}))})).catch((function(){e.bannerList=[]})).finally((function(){e.dataLoading=!1}))},beforeUpload:function(e){var t=e.target.files[0];if(t.size/1024/1024>1)return this.$message.error("图片大小超出限制"),!1;this.form.profile_picture=t,this.fileUrl=window.URL.createObjectURL(t)},beforeUploadEn:function(e){var t=e.target.files[0];if(t.size/1024/1024>1)return this.$message.error("图片大小超出限制"),!1;this.form.profile_picture_en=t,this.fileUrlEn=window.URL.createObjectURL(t)},addOpeningIOSAd:function(){var e=this;this.$refs.form.validate((function(t){if(t){var n=e.getData(e.form);n=e.getFormData(n),e.addLoading=!0,Object(D["u"])(n).then((function(t){e.$message.success("添加成功"),e.dialogVisible=!1,e.getOpeningIOSAds()})).catch((function(){e.$message.error("添加失败")})).finally((function(){e.addLoading=!1}))}}))},updateOpeningIOSAd:function(){var e=this;this.$refs.form.validate((function(t){if(t){var n=e.getData(e.form);e.form.profile_picture?n.is_updatePic=1:n.is_updatePic=0,e.form.profile_picture_en?n.is_updatePic_en=1:n.is_updatePic_en=0,n=e.getFormData(n),e.updateLoading=!0,Object(D["md"])(n).then((function(t){e.$message.success("更新成功"),e.dialogVisible=!1,e.getOpeningIOSAds()})).catch((function(){e.$message.error("更新失败")})).finally((function(){e.updateLoading=!1}))}}))},changeIndex:function(e,t,n){var r=this,o={banner1_id:t.id};"top"===e?o.banner2_id=this.bannerList[n-1].id:"bottom"===e&&(o.banner2_id=this.bannerList[n+1].id),this.dataLoading=!0,Object(D["N"])(o).then((function(e){r.$message.success("调整顺序成功")})).catch((function(){r.$message.error("调整顺序失败")})).finally((function(){r.getOpeningIOSAds()}))},handelState:function(e){var t=this,n={id:e.id,is_delete:e.is_delete};this.loading[e.id]=!0,Object(D["S"])(n).then(function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$message.success("切换成功");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){t.$message.error("切换失败")})).finally((function(){t.loading[e.id]=!1,t.getOpeningIOSAds()}))},handelEdit:function(e){this.dialogTitleType=2,this.fileUrl=e.picture_link,this.fileUrlEn=e.picture_link_en,this.form=Object(E["a"])(Object(E["a"])({},e),{},{time:[new Date(1e3*e.start_time),new Date(1e3*e.end_time)]}),this.dialogVisible=!0},handelRemove:function(e){var t=this;this.$messageBox.confirm('确定要删除当前广告吗? <br/><image src="'.concat(e.picture_link,'" height="100px"></image>'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0}).then((function(){Object(D["Hc"])(e.id).then((function(e){t.$message({type:"success",message:"删除成功！"}),t.getOpeningIOSAds()})).catch((function(e){console.log(e),t.$message({type:"error",message:"删除失败！"})}))})).catch((function(){t.$message({type:"info",message:"已取消"})}))}}},$=(n("3555"),n("6b0d")),L=n.n($);const I=L()(S,[["render",U],["__scopeId","data-v-02f87fba"]]);t["default"]=I}}]);