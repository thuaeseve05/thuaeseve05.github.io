(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d2080d28"],{"0fda":function(e,t,l){"use strict";l("32c9")},"32c9":function(e,t,l){},"3dfe":function(e,t,l){"use strict";l.r(t);l("ac1f"),l("00b4"),l("a434"),l("b0c0");var o=l("7a23"),i=function(e){return Object(o["pushScopeId"])("data-v-13f246bf"),e=e(),Object(o["popScopeId"])(),e},n={class:"gray",style:{width:"100%"}},c={class:"card-header"},a=i((function(){return Object(o["createElementVNode"])("span",null,"通知管理",-1)})),r=Object(o["createTextVNode"])(" 添加通知 "),d=Object(o["createTextVNode"])("编辑"),u={style:{width:"100%"}},s={class:"flex-1"},m={key:0},b={key:0,id:"myVideo",width:"300",height:"200",controls:""},f=["src"],p=["src"],O=Object(o["createTextVNode"])(" 您的浏览器不支持 HTML5 视频 "),j=["src"],v=Object(o["createTextVNode"])("+上传文件"),h={class:"apply-file-item"},g=i((function(){return Object(o["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"18",viewBox:"0 0 22 18",fill:"none"},[Object(o["createElementVNode"])("path",{d:"M11.1443 3.12187L9.32245 1.06625C9.15058 0.866875 8.88933 0.75 8.6212 0.75H1.60183C1.07933 0.75 0.653076 1.16937 0.653076 1.69187V16.6587C0.653076 17.1812 1.07245 17.6006 1.59495 17.6006H20.8312C21.3537 17.6006 21.7731 17.1812 21.7731 16.6587V4.38687C21.7731 3.86437 21.3537 3.445 20.8312 3.445H11.8525C11.5843 3.445 11.3231 3.32812 11.1443 3.12187Z",fill:"#3C6CF6"})],-1)})),V={class:"apply-file-item-flex"},w={class:"apply-file-item-title"},_={key:0,id:"myVideo",width:"300",height:"200",controls:""},N=["src"],k=["src"],y=Object(o["createTextVNode"])(" 您的浏览器不支持 HTML5 视频 "),C=["src"],x=Object(o["createTextVNode"])(" 删除 "),B=Object(o["createTextVNode"])(" +添加视频 "),E={style:{width:"100%"}},z={class:"flex-1"},T={key:0},L={key:0,id:"myVideo",width:"300",height:"200",controls:""},U=["src"],M=["src"],F=Object(o["createTextVNode"])(" 您的浏览器不支持 HTML5 视频 "),S=["src"],$=Object(o["createTextVNode"])("+上传文件"),J={class:"apply-file-item"},A=i((function(){return Object(o["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"18",viewBox:"0 0 22 18",fill:"none"},[Object(o["createElementVNode"])("path",{d:"M11.1443 3.12187L9.32245 1.06625C9.15058 0.866875 8.88933 0.75 8.6212 0.75H1.60183C1.07933 0.75 0.653076 1.16937 0.653076 1.69187V16.6587C0.653076 17.1812 1.07245 17.6006 1.59495 17.6006H20.8312C21.3537 17.6006 21.7731 17.1812 21.7731 16.6587V4.38687C21.7731 3.86437 21.3537 3.445 20.8312 3.445H11.8525C11.5843 3.445 11.3231 3.32812 11.1443 3.12187Z",fill:"#3C6CF6"})],-1)})),D={class:"apply-file-item-flex"},H={class:"apply-file-item-title"},q={key:0,id:"myVideo",width:"300",height:"200",controls:""},I=["src"],P=["src"],Z=Object(o["createTextVNode"])(" 您的浏览器不支持 HTML5 视频 "),R=["src"],G=Object(o["createTextVNode"])(" 删除 "),K=Object(o["createTextVNode"])(" +添加视频 "),Q={style:{width:"100%"}},W={class:"flex-1"},X={key:0},Y={key:0,id:"myVideo",width:"300",height:"200",controls:""},ee=["src"],te=["src"],le=Object(o["createTextVNode"])(" 您的浏览器不支持 HTML5 视频 "),oe=["src"],ie=Object(o["createTextVNode"])("+上传文件"),ne={class:"apply-file-item"},ce=i((function(){return Object(o["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"18",viewBox:"0 0 22 18",fill:"none"},[Object(o["createElementVNode"])("path",{d:"M11.1443 3.12187L9.32245 1.06625C9.15058 0.866875 8.88933 0.75 8.6212 0.75H1.60183C1.07933 0.75 0.653076 1.16937 0.653076 1.69187V16.6587C0.653076 17.1812 1.07245 17.6006 1.59495 17.6006H20.8312C21.3537 17.6006 21.7731 17.1812 21.7731 16.6587V4.38687C21.7731 3.86437 21.3537 3.445 20.8312 3.445H11.8525C11.5843 3.445 11.3231 3.32812 11.1443 3.12187Z",fill:"#3C6CF6"})],-1)})),ae={class:"apply-file-item-flex"},re={class:"apply-file-item-title"},de={key:0,id:"myVideo",width:"300",height:"200",controls:""},ue=["src"],se=["src"],me=Object(o["createTextVNode"])(" 您的浏览器不支持 HTML5 视频 "),be=["src"],fe=Object(o["createTextVNode"])(" 删除 "),pe=Object(o["createTextVNode"])(" +添加视频 "),Oe={class:"dialog-footer"},je=Object(o["createTextVNode"])("取 消"),ve=Object(o["createTextVNode"])(" 确 定 "),he=Object(o["createTextVNode"])(" 确 定 ");function ge(e,t,l,i,ge,Ve){var we=Object(o["resolveComponent"])("el-button"),_e=Object(o["resolveComponent"])("el-table-column"),Ne=Object(o["resolveComponent"])("el-switch"),ke=Object(o["resolveComponent"])("el-table"),ye=Object(o["resolveComponent"])("el-card"),Ce=Object(o["resolveComponent"])("el-col"),xe=Object(o["resolveComponent"])("el-row"),Be=Object(o["resolveComponent"])("el-checkbox"),Ee=Object(o["resolveComponent"])("el-checkbox-group"),ze=Object(o["resolveComponent"])("el-form-item"),Te=Object(o["resolveComponent"])("el-input"),Le=Object(o["resolveComponent"])("el-upload"),Ue=Object(o["resolveComponent"])("el-progress"),Me=Object(o["resolveComponent"])("Close"),Fe=Object(o["resolveComponent"])("el-icon"),Se=Object(o["resolveComponent"])("el-divider"),$e=Object(o["resolveComponent"])("el-form"),Je=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createElementBlock"])("main",n,[Object(o["createVNode"])(xe,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Ce,{span:24,style:{"margin-bottom":"10px"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(ye,{class:"box-card",shadow:"never"},{header:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",c,[a,Object(o["createVNode"])(we,{class:"button",type:"primary",link:"",onClick:Object(o["withModifiers"])(Ve.handelAdd,["stop"])},{default:Object(o["withCtx"])((function(){return[r]})),_:1},8,["onClick"])])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(ke,{data:ge.tableData,stripe:"",style:{width:"100%"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_e,{type:"index",label:"序号",width:"60",align:"center"}),Object(o["createVNode"])(_e,{prop:"title",label:"标题"}),Object(o["createVNode"])(_e,{prop:"time",label:"创建时间"},{default:Object(o["withCtx"])((function(t){var l=t.row;return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$f.formatDate(l.time)),1)]})),_:1}),Object(o["createVNode"])(_e,{label:"状态",width:"200",align:"center"},{default:Object(o["withCtx"])((function(e){var t=e.row;return[Object(o["createVNode"])(Ne,{modelValue:t.is_show,"onUpdate:modelValue":function(e){return t.is_show=e},"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"展示","inactive-text":"不展示","active-value":!0,"inactive-value":!1,loading:ge.loading[t.id],onClick:Object(o["withModifiers"])((function(e){return Ve.handelState(t)}),["stop"])},null,8,["modelValue","onUpdate:modelValue","loading","onClick"])]})),_:1}),Object(o["createVNode"])(_e,{label:"操作",width:"150",align:"center"},{default:Object(o["withCtx"])((function(e){var t=e.row;return[Object(o["createVNode"])(we,{type:"primary",link:"",onClick:Object(o["withModifiers"])((function(e){return Ve.handelEdit(t)}),["stop"])},{default:Object(o["withCtx"])((function(){return[d]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(Je,{title:Ve.dialogTitle,modelValue:ge.dialogVisible,"onUpdate:modelValue":t[11]||(t[11]=function(e){return ge.dialogVisible=e}),width:"600px"},{footer:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("span",Oe,[Object(o["createVNode"])(we,{onClick:t[10]||(t[10]=function(e){return ge.dialogVisible=!1})},{default:Object(o["withCtx"])((function(){return[je]})),_:1}),1===ge.dialogTitleType?(Object(o["openBlock"])(),Object(o["createBlock"])(we,{key:0,type:"primary",loading:ge.addLoading,onClick:Ve.addNotice},{default:Object(o["withCtx"])((function(){return[ve]})),_:1},8,["loading","onClick"])):2===ge.dialogTitleType?(Object(o["openBlock"])(),Object(o["createBlock"])(we,{key:1,type:"primary",loading:ge.updateLoading,onClick:Ve.updateNotice},{default:Object(o["withCtx"])((function(){return[he]})),_:1},8,["loading","onClick"])):Object(o["createCommentVNode"])("",!0)])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])($e,{"label-position":"left","label-width":"auto",ref:"form",model:ge.form,rules:ge.rules},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(ze,{label:"适用平台",prop:"platform"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Ee,{modelValue:ge.form.platform,"onUpdate:modelValue":t[0]||(t[0]=function(e){return ge.form.platform=e})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Be,{label:"android"}),Object(o["createVNode"])(Be,{label:"ios"}),Object(o["createVNode"])(Be,{label:"h5"}),Object(o["createVNode"])(Be,{label:"wrapper"}),Object(o["createVNode"])(Be,{label:"pc_old"}),Object(o["createVNode"])(Be,{label:"pc"}),Object(o["createVNode"])(Be,{label:"ios_wallet"}),Object(o["createVNode"])(Be,{label:"ios_market"}),Object(o["createVNode"])(Be,{label:"ios_meme_tracker"})]})),_:1},8,["modelValue"])]})),_:1}),Object(o["createVNode"])(ze,{label:"通知标题(中文)",prop:"title"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Te,{modelValue:ge.form.title,"onUpdate:modelValue":t[1]||(t[1]=function(e){return ge.form.title=e}),placeholder:"请输入通知标题(中文)",clearable:""},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(ze,{label:"通知内容(中文)",prop:"content"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Te,{type:"textarea",rows:6,modelValue:ge.form.content,"onUpdate:modelValue":t[2]||(t[2]=function(e){return ge.form.content=e}),placeholder:"请输入通知内容(中文)",clearable:""},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(ze,{label:"Media上传(中文)",prop:"media"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",u,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(ge.form.media,(function(t,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"item-video mb_10",key:l},[Object(o["createElementVNode"])("div",s,[Object(o["createVNode"])(ze,{label:"视频标题"+(l+1),class:"mb_10"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Te,{modelValue:t.title,"onUpdate:modelValue":function(e){return t.title=e},placeholder:"请输入Media标题",clearable:"",type:"textarea",rows:2,rules:{required:!0,message:"标题不能为空",trigger:"blur"}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["label"]),Object(o["createVNode"])(ze,{label:"视频描述"+(l+1),class:"mb_10"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Te,{modelValue:t.desc,"onUpdate:modelValue":function(e){return t.desc=e},placeholder:"请输入Media描述",type:"textarea",rows:2,clearable:"",rules:{required:!0,message:"描述不能为空",trigger:"blur"}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["label"]),Object(o["createVNode"])(ze,{label:"视频上传"+(l+1),class:"mb_10"},{default:Object(o["withCtx"])((function(){return[t.media&&2===ge.dialogTitleType?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",m,[/.mp4|.mov|.webm|.ogg|.mov/i.test(t.media)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("video",b,[Object(o["createElementVNode"])("source",{src:t.media,type:"video/mp4"},null,8,f),Object(o["createElementVNode"])("source",{src:t.media,type:"video/webm"},null,8,p),O])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:1,src:t.media,alt:"",style:{width:"100%"}},null,8,j))])):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createVNode"])(Le,{name:"noticemedia",accept:".png, .jpg, .jpeg, .mp4, .mov, .webm, .ogg, .mov",limit:1,"show-file-list":!1,action:ge.uploadApi,headers:{Authorization:"bearer "+e.$store.state.authToken},"before-upload":Ve.beforePictureUpload,"file-list":t.file,"onUpdate:file-list":function(e){return t.file=e}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(we,{class:"apply-upload-btn",size:"small"},{default:Object(o["withCtx"])((function(){return[v]})),_:1})]})),_:2},1032,["action","headers","before-upload","file-list","onUpdate:file-list"]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(t.file,(function(e,l){var i=e.uid,n=e.name,c=e.percentage,a=e.response;a=void 0===a?{}:a;var r=a.status,d=a.data;d=void 0===d?{}:d;var u=d.media_link;return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"apply-file-list",key:i},[Object(o["createElementVNode"])("div",h,[g,Object(o["createElementVNode"])("div",V,[Object(o["createElementVNode"])("h2",w,Object(o["toDisplayString"])(n),1),Object(o["createVNode"])(Ue,{color:"#3C6CF6","stroke-width":3,percentage:c,status:0===r?"exception":void 0},null,8,["percentage","status"])]),Object(o["createVNode"])(Fe,{class:"apply-file-del",onClick:function(e){var o;return null===(o=t.file)||void 0===o?void 0:o.splice(l,1)}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Me)]})),_:2},1032,["onClick"])]),/.mp4|.mov|.webm|.ogg|.mov/i.test(u)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("video",_,[Object(o["createElementVNode"])("source",{src:u,type:"video/mp4"},null,8,N),Object(o["createElementVNode"])("source",{src:u,type:"video/webm"},null,8,k),y])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:1,src:u,alt:"",style:{width:"100%"}},null,8,C))])})),128))],64))]})),_:2},1032,["label"])]),Object(o["createVNode"])(we,{class:"apply-upload-btn ml_10",size:"small",onClick:Object(o["withModifiers"])((function(e){return Ve.removeVideo("zh",l)}),["stop","prevent"])},{default:Object(o["withCtx"])((function(){return[x]})),_:2},1032,["onClick"])])})),128)),Object(o["createVNode"])(we,{class:"apply-upload-btn",type:"primary",size:"small",onClick:t[3]||(t[3]=Object(o["withModifiers"])((function(e){return Ve.addVideo("zh")}),["stop","prevent"]))},{default:Object(o["withCtx"])((function(){return[B]})),_:1})])]})),_:1}),Object(o["createVNode"])(Se),Object(o["createVNode"])(ze,{label:"通知标题(繁体)",prop:"title_zh_tw"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Te,{modelValue:ge.form.title_zh_tw,"onUpdate:modelValue":t[4]||(t[4]=function(e){return ge.form.title_zh_tw=e}),placeholder:"请输入通知标题(繁体)",clearable:""},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(ze,{label:"通知内容(繁体)",prop:"content_zh_tw"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Te,{type:"textarea",rows:6,modelValue:ge.form.content_zh_tw,"onUpdate:modelValue":t[5]||(t[5]=function(e){return ge.form.content_zh_tw=e}),placeholder:"请输入通知内容(繁体)",clearable:""},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(ze,{label:"Media上传(繁体)",prop:"media_zh_tw"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",E,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(ge.form.media_zh_tw,(function(t,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"item-video mb_10",key:l},[Object(o["createElementVNode"])("div",z,[Object(o["createVNode"])(ze,{label:"视频标题"+(l+1),class:"mb_10"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Te,{modelValue:t.title,"onUpdate:modelValue":function(e){return t.title=e},placeholder:"请输入Media标题",clearable:"",type:"textarea",rows:2,rules:{required:!0,message:"标题不能为空",trigger:"blur"}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["label"]),Object(o["createVNode"])(ze,{label:"视频描述"+(l+1),class:"mb_10"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Te,{modelValue:t.desc,"onUpdate:modelValue":function(e){return t.desc=e},placeholder:"请输入Media描述",type:"textarea",rows:2,clearable:"",rules:{required:!0,message:"描述不能为空",trigger:"blur"}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["label"]),Object(o["createVNode"])(ze,{label:"视频上传"+(l+1),class:"mb_10"},{default:Object(o["withCtx"])((function(){return[t.media&&2===ge.dialogTitleType?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",T,[/.mp4|.mov|.webm|.ogg|.mov/i.test(t.media)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("video",L,[Object(o["createElementVNode"])("source",{src:t.media,type:"video/mp4"},null,8,U),Object(o["createElementVNode"])("source",{src:t.media,type:"video/webm"},null,8,M),F])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:1,src:t.media,alt:"",style:{width:"100%"}},null,8,S))])):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createVNode"])(Le,{name:"noticemedia",accept:".png, .jpg, .jpeg, .mp4, .mov, .webm, .ogg, .mov",limit:1,"show-file-list":!1,action:ge.uploadApi,headers:{Authorization:"bearer "+e.$store.state.authToken},"before-upload":Ve.beforePictureUpload,"file-list":t.file,"onUpdate:file-list":function(e){return t.file=e}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(we,{class:"apply-upload-btn",size:"small"},{default:Object(o["withCtx"])((function(){return[$]})),_:1})]})),_:2},1032,["action","headers","before-upload","file-list","onUpdate:file-list"]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(t.file,(function(e,l){var i=e.uid,n=e.name,c=e.percentage,a=e.response;a=void 0===a?{}:a;var r=a.status,d=a.data;d=void 0===d?{}:d;var u=d.media_link;return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"apply-file-list",key:i},[Object(o["createElementVNode"])("div",J,[A,Object(o["createElementVNode"])("div",D,[Object(o["createElementVNode"])("h2",H,Object(o["toDisplayString"])(n),1),Object(o["createVNode"])(Ue,{color:"#3C6CF6","stroke-width":3,percentage:c,status:0===r?"exception":void 0},null,8,["percentage","status"])]),Object(o["createVNode"])(Fe,{class:"apply-file-del",onClick:function(e){var o;return null===(o=t.file)||void 0===o?void 0:o.splice(l,1)}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Me)]})),_:2},1032,["onClick"])]),/.mp4|.mov|.webm|.ogg|.mov/i.test(u)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("video",q,[Object(o["createElementVNode"])("source",{src:u,type:"video/mp4"},null,8,I),Object(o["createElementVNode"])("source",{src:u,type:"video/webm"},null,8,P),Z])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:1,src:u,alt:"",style:{width:"100%"}},null,8,R))])})),128))],64))]})),_:2},1032,["label"])]),Object(o["createVNode"])(we,{class:"apply-upload-btn ml_10",size:"small",onClick:Object(o["withModifiers"])((function(e){return Ve.removeVideo("zh-tw",l)}),["stop","prevent"])},{default:Object(o["withCtx"])((function(){return[G]})),_:2},1032,["onClick"])])})),128)),Object(o["createVNode"])(we,{class:"apply-upload-btn",type:"primary",size:"small",onClick:t[6]||(t[6]=Object(o["withModifiers"])((function(e){return Ve.addVideo("zh-tw")}),["stop","prevent"]))},{default:Object(o["withCtx"])((function(){return[K]})),_:1})])]})),_:1}),Object(o["createVNode"])(Se),Object(o["createVNode"])(ze,{label:"通知标题(英文)",prop:"title_en"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Te,{modelValue:ge.form.title_en,"onUpdate:modelValue":t[7]||(t[7]=function(e){return ge.form.title_en=e}),placeholder:"请输入通知标题(英文)",clearable:""},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(ze,{label:"通知内容(英文)",prop:"content_en"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Te,{type:"textarea",rows:6,modelValue:ge.form.content_en,"onUpdate:modelValue":t[8]||(t[8]=function(e){return ge.form.content_en=e}),placeholder:"请输入通知内容(英文)",clearable:""},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(ze,{label:"Media上传(en)",prop:"media_en"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Q,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(ge.form.media_en,(function(t,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"item-video mb_10",key:l},[Object(o["createElementVNode"])("div",W,[Object(o["createVNode"])(ze,{label:"视频标题"+(l+1),class:"mb_10"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Te,{modelValue:t.title,"onUpdate:modelValue":function(e){return t.title=e},placeholder:"请输入Media标题",clearable:"",type:"textarea",rows:2,rules:{required:!0,message:"标题不能为空",trigger:"blur"}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["label"]),Object(o["createVNode"])(ze,{label:"视频描述"+(l+1),class:"mb_10"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Te,{modelValue:t.desc,"onUpdate:modelValue":function(e){return t.desc=e},placeholder:"请输入Media描述",type:"textarea",rows:2,clearable:"",rules:{required:!0,message:"描述不能为空",trigger:"blur"}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["label"]),Object(o["createVNode"])(ze,{label:"视频上传"+(l+1),class:"mb_10"},{default:Object(o["withCtx"])((function(){return[t.media&&2===ge.dialogTitleType?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",X,[/.mp4|.mov|.webm|.ogg|.mov/i.test(t.media)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("video",Y,[Object(o["createElementVNode"])("source",{src:t.media,type:"video/mp4"},null,8,ee),Object(o["createElementVNode"])("source",{src:t.media,type:"video/webm"},null,8,te),le])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:1,src:t.media,alt:"",style:{width:"100%"}},null,8,oe))])):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createVNode"])(Le,{name:"noticemedia",accept:".png, .jpg, .jpeg, .mp4, .mov, .webm, .ogg, .mov",limit:1,"show-file-list":!1,action:ge.uploadApi,headers:{Authorization:"bearer "+e.$store.state.authToken},"before-upload":Ve.beforePictureUpload,"file-list":t.file,"onUpdate:file-list":function(e){return t.file=e}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(we,{class:"apply-upload-btn",size:"small"},{default:Object(o["withCtx"])((function(){return[ie]})),_:1})]})),_:2},1032,["action","headers","before-upload","file-list","onUpdate:file-list"]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(t.file,(function(e,l){var i=e.uid,n=e.name,c=e.percentage,a=e.response;a=void 0===a?{}:a;var r=a.status,d=a.data;d=void 0===d?{}:d;var u=d.media_link;return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"apply-file-list",key:i},[Object(o["createElementVNode"])("div",ne,[ce,Object(o["createElementVNode"])("div",ae,[Object(o["createElementVNode"])("h2",re,Object(o["toDisplayString"])(n),1),Object(o["createVNode"])(Ue,{color:"#3C6CF6","stroke-width":3,percentage:c,status:0===r?"exception":void 0},null,8,["percentage","status"])]),Object(o["createVNode"])(Fe,{class:"apply-file-del",onClick:function(e){var o;return null===(o=t.file)||void 0===o?void 0:o.splice(l,1)}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Me)]})),_:2},1032,["onClick"])]),/.mp4|.mov|.webm|.ogg|.mov/i.test(u)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("video",de,[Object(o["createElementVNode"])("source",{src:u,type:"video/mp4"},null,8,ue),Object(o["createElementVNode"])("source",{src:u,type:"video/webm"},null,8,se),me])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:1,src:u,alt:"",style:{width:"100%"}},null,8,be))])})),128))],64))]})),_:2},1032,["label"])]),Object(o["createVNode"])(we,{class:"apply-upload-btn ml_10",size:"small",onClick:Object(o["withModifiers"])((function(e){return Ve.removeVideo("en",l)}),["stop","prevent"])},{default:Object(o["withCtx"])((function(){return[fe]})),_:2},1032,["onClick"])])})),128)),Object(o["createVNode"])(we,{class:"apply-upload-btn",type:"primary",size:"small",onClick:t[9]||(t[9]=Object(o["withModifiers"])((function(e){return Ve.addVideo("en")}),["stop","prevent"]))},{default:Object(o["withCtx"])((function(){return[pe]})),_:1})])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1},8,["title","modelValue"])])}var Ve=l("1da1"),we=l("5530"),_e=(l("96cf"),l("d3b7"),l("d81d"),l("4de4"),l("a15b"),l("e9c4"),l("1276"),l("365c")),Ne={name:"Notice",data:function(){return{form:{title:"",content:"",title_zh_tw:"",content_zh_tw:"",title_en:"",content_en:"",platform:[],media:[{title:"",desc:"",media:"",file:[]}],media_zh_tw:[{title:"",desc:"",media:"",file:[]}],media_en:[{title:"",desc:"",media:"",file:[]}]},rules:{title:[{required:!0,message:"请输入通知标题(中文)",trigger:"blur"}],content:[{required:!0,message:"请输入通知内容(中文)",trigger:"blur"}],title_zh_tw:[{required:!0,message:"请输入通知标题(繁体)",trigger:"blur"}],content_zh_tw:[{required:!0,message:"请输入通知内容(繁体)",trigger:"blur"}],title_en:[{required:!0,message:"请输入通知标题(英文)",trigger:"blur"}],content_en:[{required:!0,message:"请输入通知内容(英文)",trigger:"blur"}],platform:[{type:"array",required:!0,message:"请至少选择一个平台",trigger:"change"}]},tableData:[],dataLoading:!0,loading:{},dialogVisible:!1,curItem:{},dialogTitleType:1,addLoading:!1,updateLoading:!1,uploadApi:"https://aveadm.xyz/api-admin/v1/announces/uploadmedia",pictureLinks:[]}},computed:{dialogTitle:function(){var e={1:"添加",2:"编辑"};return e[this.dialogTitleType]}},created:function(){this.getNoticeList()},methods:{beforePictureUpload:function(e){return!(e.size>5242880)||(this.$message.error("文件最大为5M"),!1)},addVideo:function(e){"zh"===e&&this.form.media.push({title:"",desc:"",media:""}),"zh-tw"===e&&this.form.media_zh_tw.push({title:"",desc:"",media:""}),"en"===e&&this.form.media_en.push({title:"",desc:"",media:""})},removeVideo:function(e,t){"zh"===e&&this.form.media.splice(t,1),"zh-tw"===e&&this.form.media_zh_tw.splice(t,1),"en"===e&&this.form.media_en.splice(t,1)},getNoticeList:function(){var e=this;this.dataLoading=!0,Object(_e["Vb"])().then((function(t){e.tableData=(null===t||void 0===t?void 0:t.map((function(e){return Object(we["a"])(Object(we["a"])({},e),{},{media:null!==e&&void 0!==e&&e.media?JSON.parse(e.media):[],media_zh_tw:null!==e&&void 0!==e&&e.media_zh_tw?JSON.parse(e.media_zh_tw):[],media_en:null!==e&&void 0!==e&&e.media_en?JSON.parse(e.media_en):[]})})))||[]})).catch((function(){e.tableData=[]})).finally((function(){e.dataLoading=!1}))},addNotice:function(){var e=this;this.$refs.form.validate((function(t){if(t){var l,o,i,n,c,a,r,d,u,s,m,b,f=null===(l=e.form.media)||void 0===l?void 0:l.map((function(e){var t,l,o,i;return e.media=(null===(t=e.file)||void 0===t||null===(l=t.filter((function(e){return(null===e||void 0===e?void 0:e.response)&&1===(null===e||void 0===e?void 0:e.response.status)}))[0])||void 0===l||null===(o=l.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.media_link)||"",{title:e.title,desc:e.desc,media:e.media}})),p=null===(o=e.form.media_zh_tw)||void 0===o?void 0:o.map((function(e){var t,l,o,i;return e.media=(null===(t=e.file)||void 0===t||null===(l=t.filter((function(e){return(null===e||void 0===e?void 0:e.response)&&1===(null===e||void 0===e?void 0:e.response.status)}))[0])||void 0===l||null===(o=l.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.media_link)||"",{title:e.title,desc:e.desc,media:e.media}})),O=null===(i=e.form.media_en)||void 0===i?void 0:i.map((function(e){var t,l,o,i;return e.media=(null===(t=e.file)||void 0===t||null===(l=t.filter((function(e){return(null===e||void 0===e?void 0:e.response)&&1===(null===e||void 0===e?void 0:e.response.status)}))[0])||void 0===l||null===(o=l.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.media_link)||"",{title:e.title,desc:e.desc,media:e.media}}));if(f=null===(n=f)||void 0===n?void 0:n.filter((function(e){return!(!e.title&&!e.desc&&!e.media)})),p=null===(c=p)||void 0===c?void 0:c.filter((function(e){return!(!e.title&&!e.desc&&!e.media)})),O=null===(a=O)||void 0===a?void 0:a.filter((function(e){return!(!e.title&&!e.desc&&!e.media)})),(null===(r=f)||void 0===r?void 0:r.length)>0&&f.some((function(e){return!e.title||!e.desc||!e.media})))return void e.$message.error("如果需要上传中文视频，媒体中的视频标题、视频描述和媒体文件缺一不可");if((null===(d=p)||void 0===d?void 0:d.length)>0&&p.some((function(e){return!e.title||!e.desc||!e.media})))return void e.$message.error("如果需要上传中文繁体视频，媒体中的视频标题、视频描述和媒体文件缺一不可");if((null===(u=O)||void 0===u?void 0:u.length)>0&&O.some((function(e){return!e.title||!e.desc||!e.media})))return void e.$message.error("如果需要上传英文视频，媒体中的视频标题、视频描述和媒体文件缺一不可");var j=Object(we["a"])(Object(we["a"])({},e.form),{},{platform:e.form.platform.join(","),is_show:!1,media:(null===(s=f)||void 0===s?void 0:s.length)>0?JSON.stringify(f):"",media_zh_tw:(null===(m=p)||void 0===m?void 0:m.length)>0?JSON.stringify(p):"",media_en:(null===(b=O)||void 0===b?void 0:b.length)>0?JSON.stringify(O):""});e.addLoading=!0,Object(_e["r"])(j).then((function(t){e.$message.success("添加成功"),e.dialogVisible=!1,e.getNoticeList()})).catch((function(){e.$message.error("添加失败")})).finally((function(){e.addLoading=!1}))}}))},updateNotice:function(){var e=this;this.$refs.form.validate((function(t){if(t){var l,o,i,n,c,a,r,d,u,s,m,b,f=null===(l=e.form.media)||void 0===l?void 0:l.map((function(e){var t,l,o,i;return e.media=(null===(t=e.file)||void 0===t||null===(l=t.filter((function(e){return(null===e||void 0===e?void 0:e.response)&&1===(null===e||void 0===e?void 0:e.response.status)}))[0])||void 0===l||null===(o=l.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.media_link)||e.media||"",{title:e.title,desc:e.desc,media:e.media}})),p=null===(o=e.form.media_zh_tw)||void 0===o?void 0:o.map((function(e){var t,l,o,i;return e.media=(null===(t=e.file)||void 0===t||null===(l=t.filter((function(e){return(null===e||void 0===e?void 0:e.response)&&1===(null===e||void 0===e?void 0:e.response.status)}))[0])||void 0===l||null===(o=l.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.media_link)||e.media||"",{title:e.title,desc:e.desc,media:e.media}})),O=null===(i=e.form.media_en)||void 0===i?void 0:i.map((function(e){var t,l,o,i;return e.media=(null===(t=e.file)||void 0===t||null===(l=t.filter((function(e){return(null===e||void 0===e?void 0:e.response)&&1===(null===e||void 0===e?void 0:e.response.status)}))[0])||void 0===l||null===(o=l.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.media_link)||e.media||"",{title:e.title,desc:e.desc,media:e.media}}));if(f=null===(n=f)||void 0===n?void 0:n.filter((function(e){return!(!e.title&&!e.desc&&!e.media)})),p=null===(c=p)||void 0===c?void 0:c.filter((function(e){return!(!e.title&&!e.desc&&!e.media)})),O=null===(a=O)||void 0===a?void 0:a.filter((function(e){return!(!e.title&&!e.desc&&!e.media)})),(null===(r=f)||void 0===r?void 0:r.length)>0&&f.some((function(e){return!e.title||!e.desc||!e.media})))return void e.$message.error("如果需要上传中文视频，媒体中的视频标题、视频描述和媒体文件缺一不可");if((null===(d=p)||void 0===d?void 0:d.length)>0&&p.some((function(e){return!e.title||!e.desc||!e.media})))return void e.$message.error("如果需要上传中文繁体视频，媒体中的视频标题、视频描述和媒体文件缺一不可");if((null===(u=O)||void 0===u?void 0:u.length)>0&&O.some((function(e){return!e.title||!e.desc||!e.media})))return void e.$message.error("如果需要上传英文视频，媒体中的视频标题、视频描述和媒体文件缺一不可");var j=Object(we["a"])(Object(we["a"])(Object(we["a"])({},e.curItem),e.form),{},{platform:e.form.platform.join(","),media:(null===(s=f)||void 0===s?void 0:s.length)>0?JSON.stringify(f):"",media_zh_tw:(null===(m=p)||void 0===m?void 0:m.length)>0?JSON.stringify(p):"",media_en:(null===(b=O)||void 0===b?void 0:b.length)>0?JSON.stringify(O):""});e.updateLoading=!0,Object(_e["r"])(j).then((function(t){e.$message.success("更新成功"),e.dialogVisible=!1,e.getNoticeList()})).catch((function(){e.$message.error("更新失败")})).finally((function(){e.updateLoading=!1}))}}))},handelAdd:function(){this.dialogTitleType=1,this.form={title:"",content:"",title_zh_tw:"",content_zh_tw:"",title_en:"",content_en:"",platform:[],media:[{title:"",desc:"",media:"",file:[]}],media_zh_tw:[{title:"",desc:"",media:"",file:[]}],media_en:[{title:"",desc:"",media:"",file:[]}]},this.dialogVisible=!0},handelEdit:function(e){this.dialogTitleType=2,this.curItem=e,this.form={title:e.title,content:e.content,media:e.media,title_zh_tw:e.title_zh_tw,content_zh_tw:e.content_zh_tw,media_zh_tw:e.media_zh_tw,title_en:e.title_en,content_en:e.content_en,media_en:null===e||void 0===e?void 0:e.media_en,platform:e.platform.split(",")},this.dialogVisible=!0},handelState:function(e){var t=this,l=Object(we["a"])(Object(we["a"])({},e),{},{is_show:e.is_show,media:null!==e&&void 0!==e&&e.media?JSON.stringify(e.media):"",media_zh_tw:null!==e&&void 0!==e&&e.media_zh_tw?JSON.stringify(e.media_zh_tw):"",media_en:null!==e&&void 0!==e&&e.media_en?JSON.stringify(e.media_en):""});this.loading[e.id]=!0,Object(_e["r"])(l).then(function(){var e=Object(Ve["a"])(regeneratorRuntime.mark((function e(l){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$message.success("切换成功");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){t.$message.success("切换失败")})).finally((function(){t.loading[e.id]=!1,t.getNoticeList()}))}}},ke=(l("0fda"),l("6b0d")),ye=l.n(ke);const Ce=ye()(Ne,[["render",ge],["__scopeId","data-v-13f246bf"]]);t["default"]=Ce},a15b:function(e,t,l){"use strict";var o=l("23e7"),i=l("e330"),n=l("44ad"),c=l("fc6a"),a=l("a640"),r=i([].join),d=n!=Object,u=a("join",",");o({target:"Array",proto:!0,forced:d||!u},{join:function(e){return r(c(this),void 0===e?",":e)}})},a434:function(e,t,l){"use strict";var o=l("23e7"),i=l("da84"),n=l("23cb"),c=l("5926"),a=l("07fa"),r=l("7b0b"),d=l("65f0"),u=l("8418"),s=l("1dde"),m=s("splice"),b=i.TypeError,f=Math.max,p=Math.min,O=9007199254740991,j="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!m},{splice:function(e,t){var l,o,i,s,m,v,h=r(this),g=a(h),V=n(e,g),w=arguments.length;if(0===w?l=o=0:1===w?(l=0,o=g-V):(l=w-2,o=p(f(c(t),0),g-V)),g+l-o>O)throw b(j);for(i=d(h,o),s=0;s<o;s++)m=V+s,m in h&&u(i,s,h[m]);if(i.length=o,l<o){for(s=V;s<g-o;s++)m=s+o,v=s+l,m in h?h[v]=h[m]:delete h[v];for(s=g;s>g-o+l;s--)delete h[s-1]}else if(l>o)for(s=g-o;s>V;s--)m=s+o-1,v=s+l-1,m in h?h[v]=h[m]:delete h[v];for(s=0;s<l;s++)h[s+V]=arguments[s+2];return h.length=g-o+l,i}})},d81d:function(e,t,l){"use strict";var o=l("23e7"),i=l("b727").map,n=l("1dde"),c=n("map");o({target:"Array",proto:!0,forced:!c},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},e9c4:function(e,t,l){var o=l("23e7"),i=l("da84"),n=l("d066"),c=l("2ba4"),a=l("e330"),r=l("d039"),d=i.Array,u=n("JSON","stringify"),s=a(/./.exec),m=a("".charAt),b=a("".charCodeAt),f=a("".replace),p=a(1..toString),O=/[\uD800-\uDFFF]/g,j=/^[\uD800-\uDBFF]$/,v=/^[\uDC00-\uDFFF]$/,h=function(e,t,l){var o=m(l,t-1),i=m(l,t+1);return s(j,e)&&!s(v,i)||s(v,e)&&!s(j,o)?"\\u"+p(b(e,0),16):e},g=r((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&o({target:"JSON",stat:!0,forced:g},{stringify:function(e,t,l){for(var o=0,i=arguments.length,n=d(i);o<i;o++)n[o]=arguments[o];var a=c(u,null,n);return"string"==typeof a?f(a,O,h):a}})}}]);